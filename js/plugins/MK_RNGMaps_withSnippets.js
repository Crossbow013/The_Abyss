/*:
 * @target MZ
 * @plugindesc [Tier 2] [1.72] generate Maps with pre-defined Snippets
 * @author Aerosys
 * @url https://aerosys.blog
 * @base MK_RNGMaps_Core
 * @orderAfter MK_RNGMaps_Core
 * @
 * 
 * 
 * =====================================================================================
 * COMMANDS
 * =====================================================================================
 *
 * @command borderWidth
 * @text (optional) Set Border Width
 * @desc Change the size of the margin of the generated Map
 *
 * @arg value
 * @type Number
 * @default 1
 * 
 * @command Create Classical Maze
 * @desc Start generating a Maze using the Prims algorithm
 *
 * @command Create Maze with Finetuning
 * @desc Start generating a Maze with optional parameters.
 *
 * @arg cutOffDeadEnds
 * @text Cut off Dead Ends
 * @desc Dead Ends are removed to create blank Tiles. Value is number of iterations.
 * @type Number
 * @default 2
 *
 * @arg mergeDeadEnds
 * @text Merge Dead Ends
 * @desc Chance that a new Tunnel is created from a Dead End back to the Maze. Will lead to imperfect Maze.
 * @type Number
 * @default 0.5
 *
 * @arg mode
 * @desc You can define the order of cut off first, then merge Dead Ends, or the other way round.
 * @type select
 * @option Cut off, then Merge
 * @option Merge, then Cut off
 * @default Cut off, then Merge
 *
 * @command Create Dungeon using Random Walk
 * @desc Start generating a Cave-like Dungeon allowing large Areas
 *
 * @arg Start
 * @type select
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @option any
 * @default bottom
 *
 * @arg End
 * @type select
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @option any
 * @default top
 *
 * @arg allowRevisit
 * @text allow Revisit
 * @desc Define, if the Random Walk algorithm is allowed to revisit a Place that he has already visited.
 * @type boolean
 * @default true
 *
 * @command createRoad
 * @text Create Road
 * @desc Start generating a (Forest) Road
 *
 * @arg Start
 * @type select
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @default bottom
 *
 * @arg End
 * @type select
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @default top
 * 
 * 
 * @command createRoomsAndCorridors
 * @text Create Rooms and Corridors
 * @desc Start generating a Map using this Algorithm
 * 
 * @arg minRooms
 * @text min number of Rooms
 * @type Number
 * @default 3
 * 
 * @arg maxRooms
 * @text max number of Rooms
 * @type Number
 * @default 4
 * 
 * @arg minRoomWidth
 * @text min Width of a Room
 * @type Number
 * @default 2
 * 
 * @arg maxRoomWidth
 * @text max Width of a Room
 * @type Number
 * @default 3
 * 
 * @arg minRoomHeight
 * @text min Height of a Room
 * @type Number
 * @default 2
 * 
 * @arg maxRoomHeight
 * @text max Height of a Room
 * @type Number
 * @default 2
 * 
 * @arg allowOverlapping
 * @text Allow Rooms overlapping?
 * @type boolean
 * @default false
 *
 * 
 * @command placeEntrance
 * @text Place Entrance
 * @desc Place the Entrance
 *
 * @arg Position
 * @type select
 * @option any
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @default bottom
 *
 * @command placeExit
 * @text Place Exit
 * @desc Place the Exit
 *
 * @arg Position
 * @type select
 * @option any
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @default top
 *
 * @command spawnPlayerAt
 * @text (optional) Spawn Player at Region Id
 * @desc When you want the Player to spawn at a different Region Id
 *
 * @arg direction
 * @type select
 * @option any
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @default any
 *
 * @arg regionId
 * @text Region Id
 * @type Number
 * @default 6 
 *
 * @command drawDecorations
 * @text Draw Decorations
 * @desc Draw Assets that are drawn on the Decoration Map
 *
 * @arg Ids
 * @desc comma-separated list of Decoration Ids. If empty, draw all Decorations.
 *
 * @command drawDecorationXTimes
 * @text Draw Decoration X Times
 * @desc Draw a specific Asset X times on the Map
 *
 * @arg Id
 * @type Number
 * @desc Id of the Decoration you want to draw.
 *
 * @arg min
 * @type Number
 * @default 1
 * @desc Minimum Number that the Asset should be drawn.
 *
 * @arg max
 * @type Number
 * @default 1
 * @desc Maximum Number that the Asset should be drawn.
 *
 * @command finalize
 * @text Finalize
 * @desc Call this Function at the end.
 * 
 * 
 * =====================================================================================
 * PARAMS
 * =====================================================================================
 * 
 * @param entranceRegionId
 * @text Entrance Region Id
 * @type number
 * @desc Region Id to define Entrance location
 * @default 5
 *
 * @param playerSpawningPointRegionId
 * @text Player Spawning Point Region Id
 * @type number
 * @desc Region Id to define where the Player spawns when he is transferred towards a generated Map
 * @default 6
 *
 * @param exitRegionId
 * @text Exit Region Id
 * @type number
 * @desc Region Id to define Exit location
 * @default 13
 *
 * @param decorationStopperId
 * @text Decoration Stopper Id
 * @type number
 * @desc Region Id to determine the last object in your decoration map
 * @default 61
 *
 * @param defaultBorderWidth
 * @text Default Border Width
 * @type number
 * @default 1
 * @desc Space which is kept between the manipulated area and the borders
 * 
 * 
 * =====================================================================================
 * HELP
 * =====================================================================================
 *
 * @help
 * contact
 * --------
 * Aerosys at rpgmaker web forums
 *
 * T&C
 * ----------------------------
 * Credit Aerosys, Lantiz / Biterkid
 * Full T&C in the forums and on my website
 *
 * Instructions and T&C at aerosys.blog
 * Please visit the rpgmakerweb forum to give feedback :)
 * 
 */

'use strict';const _0x26cb4a=_0x2546;(function(_0x27b856,_0x2eea4e){const _0x1250bb=_0x2546,_0xa43dbc=_0x27b856();while(!![]){try{const _0x43dbef=parseInt(_0x1250bb(0x18f))/0x1*(-parseInt(_0x1250bb(0x170))/0x2)+-parseInt(_0x1250bb(0x1be))/0x3*(parseInt(_0x1250bb(0x1d4))/0x4)+-parseInt(_0x1250bb(0x1f5))/0x5+-parseInt(_0x1250bb(0x19e))/0x6*(parseInt(_0x1250bb(0x1c6))/0x7)+-parseInt(_0x1250bb(0x1a9))/0x8+parseInt(_0x1250bb(0x18e))/0x9*(-parseInt(_0x1250bb(0x169))/0xa)+parseInt(_0x1250bb(0x178))/0xb;if(_0x43dbef===_0x2eea4e)break;else _0xa43dbc['push'](_0xa43dbc['shift']());}catch(_0x5f2d89){_0xa43dbc['push'](_0xa43dbc['shift']());}}}(_0x3639,0x9f392));function _0x3639(){const _0x3b6f37=['_maxRoomWidth','minRoomWidth','threshold','bottom','resetAfterFinalize','_remapSnippets','width','DEFAULT_BORDER_WIDTH','getAdditionalMap','push','decoration','Create\x20Road','200QtcAmI','_start','rng','exitRegionId','error','Your\x20Space\x20Map\x20is\x20too\x20small\x20for\x20given\x20arguments.\x20','getPossibleLocations','_maxRoomHeight','DECORATION_STOPPER_ID','_exit','End','validateSpaceMap','placeEntranceOn','validateMapSettingsWithArea','contains','floor','maxRooms','maxRoomSize','connectMazeWithMapEnd','onUsePremiumFunctionAlert','_minRoomWidth','randomInteger','buildTunnel','Create\x20Classical\x20Maze','eraseRegionId','allowLargeAreas','\x20not\x20found!\x0a','Create\x20Maze\x20with\x20Finetuning','snippetstransitions','minRoomSize','right','left','map','3860330vqzgFm','reset','copyTiles','dest','run_roomsAndCorridors','ENTRANCE_REGION_ID','MK_RNGMaps_withSnippets','createMatrix','allowRevisit','true','makeWayOut','Ids','pickRandom','prims','down','additionalMaps','top','cutOffDeadEnds','placeSnippet','any','drawDecorationXTimes','binary2drawable','kruskalMST','_placeSpecialLocation','Your\x20Space\x20Map\x20is\x20too\x20small.\x20Minimum\x20Dimension\x20is\x20','6325170QHIwbm','drawDecorationToXY','number','Areas\x20Map','forEach','_allowGoingBack','_maxRooms','102174VScoqd','Please\x20increase\x20its\x20size\x20or\x20change\x20Map\x20generation\x20arguments','value','cloneEvents','maxRoomWidth','_allowOverlapping','spawnLocation','_minRooms','55389840CWDPPC','_choseSpecialLocation','assetsInfo','pop','isAreaEmpty','getDungeonWidth','EXIT_REGION_ID','spawnPlayerAt(x,\x20y)','drawAssetToXY','run_randomWalk','_generateOuterMaps','Create\x20Dungeon\x20using\x20Random\x20Walk','allowGoingBack','generate','minRooms','_thickness','finalize','snippetsTransitions','filter','snippetsarea','_identifyDecoRegions','mergeDeadEnds','9DdNbxb','11ODrIsk','mazeAlgorithms','_borderWidth','height','max','requireNonNull','roomsAndCorridors','drawDecorations','Snippets\x20Map','placeEntrance','requireToBeOneOfThese','\x20but\x20this\x20region\x20Id\x20is\x20not\x20defined\x20on\x20the\x20Decoration\x20Map','spawnPlayerAt','Missing\x20Plugin:\x20MK_RNGMaps_Core','There\x27s\x20no\x20Snippets\x20Map\x20defined\x20to\x20generate\x20dungeon.\x20Please\x20insert\x20at\x20least\x20one\x20snippets\x20map\x20in\x20Space\x20Map\x27s\x20note\x20tags.','2166clgeCW','dataMap','You\x20wanted\x20to\x20draw\x20a\x20Decoration\x20with\x20Region\x20Id\x20','Map\x20generation\x20failed.\x20Please\x20choose\x20other\x20arguments\x20or\x20make\x20the\x20Space\x20Map\x20larger','start','minRoomHeight','RandomWalk:\x20Cannot\x20start\x20and\x20end\x20from\x20same\x20direction','randomWalk','getDungeonHeight','min','placeExitOn','2811288ZljEMn','registerCommand','findIndex','Transitions\x20Map','maxRoomHeight','SPAWNING_POINT_REGION_ID','snippets','exit','snippetsouter','Position','direction\x20must\x20be\x20either\x20bottom,\x20top,\x20left,\x20right\x20or\x20any,\x20but\x20was\x20','_generated','regionId','Please\x20check\x20if\x20it\x20is\x20defined,\x20in\x20Map\x20Tree\x20below\x20Space\x20Map,\x20and\x20has\x20the\x20name\x20\x27','defaultBorderWidth','createRoomsAndCorridors','getSnippetWidth','split','Start','validateMapSettingsMaze','length','75162Yqsnyv','borderWidth','drawDecorationXTimes:\x20Invalid\x20Region\x20Id:\x20','_allowRevisit','_remapSnippet','getSnippetHeight','_minRoomHeight','_allowLargeAreas','15757PCrutg','getPossibleLocationsByDirection'];_0x3639=function(){return _0x3b6f37;};return _0x3639();}var Imported=Imported||{};Imported[_0x26cb4a(0x1fb)]=!![];if(!Imported['MK_RNGMaps_Core'])alert(_0x26cb4a(0x19c));var params=PluginManager['parameters'](_0x26cb4a(0x1fb));MK[_0x26cb4a(0x1fa)]=Number(params['entranceRegionId']),MK['SPAWNING_POINT_REGION_ID']=Number(params['playerSpawningPointRegionId']),MK[_0x26cb4a(0x17e)]=Number(params[_0x26cb4a(0x1d7)]),MK['DECORATION_STOPPER_ID']=Number(params['decorationStopperId']),MK[_0x26cb4a(0x1cf)]=Number(params[_0x26cb4a(0x1b7)]),MK['mazeAlgorithms']={},MK[_0x26cb4a(0x190)]['prims']=function(_0x54b580,_0x409837){const _0x196d92=_0x26cb4a;MK[_0x196d92(0x194)](_0x54b580,_0x196d92(0x202),'w'),MK[_0x196d92(0x194)](_0x409837,_0x196d92(0x202),'h');const _0x55a715=MK['createMatrix'](_0x54b580,_0x409837),_0x540fd2=[];for(let _0x32c01e=0x0;_0x32c01e<_0x54b580;_0x32c01e++){for(let _0xe90e60=0x0;_0xe90e60<_0x409837;_0xe90e60++){_0x540fd2['push']({'x':_0x32c01e,'y':_0xe90e60});}}_0x55a715[0x1][0x0]=_0x55a715[0x1][0x0]|0x4,_0x55a715[0x1][0x1]=_0x55a715[0x1][0x1]|0x1;let _0x23c52c=_0x54b580*_0x409837;while(_0x23c52c>0x0){_0x23c52c-=0x1;let _0x507111=[];for(let _0x464d24=0x0;_0x464d24<_0x540fd2[_0x196d92(0x1bd)];_0x464d24++){let _0x4b82b4=_0x540fd2[_0x464d24];if(_0x55a715[_0x4b82b4['x']][_0x4b82b4['y']]==0x0&&_0x4b82b4['x']!=0x0&&_0x55a715[_0x4b82b4['x']-0x1][_0x4b82b4['y']]!=0x0)_0x507111[_0x196d92(0x1d1)](_0x4b82b4);if(_0x55a715[_0x4b82b4['x']][_0x4b82b4['y']]==0x0&&_0x4b82b4['x']<_0x54b580-0x1&&_0x55a715[_0x4b82b4['x']+0x1][_0x4b82b4['y']]!=0x0)_0x507111[_0x196d92(0x1d1)](_0x4b82b4);if(_0x55a715[_0x4b82b4['x']][_0x4b82b4['y']]==0x0&&_0x4b82b4['y']!=0x0&&_0x55a715[_0x4b82b4['x']][_0x4b82b4['y']-0x1]!=0x0)_0x507111[_0x196d92(0x1d1)](_0x4b82b4);if(_0x55a715[_0x4b82b4['x']][_0x4b82b4['y']]==0x0&&_0x4b82b4['y']<_0x409837-0x1&&_0x55a715[_0x4b82b4['x']][_0x4b82b4['y']+0x1]!=0x0)_0x507111[_0x196d92(0x1d1)](_0x4b82b4);}if(_0x507111[_0x196d92(0x1bd)]==0x0)break;let _0xbb9039=MK[_0x196d92(0x1d6)][_0x196d92(0x201)](_0x507111),_0xd3a17d=[];if(_0xbb9039['x']>0x0&&_0x55a715[_0xbb9039['x']-0x1][_0xbb9039['y']]!=0x0)_0xd3a17d[_0x196d92(0x1d1)](_0x196d92(0x1f3));if(_0xbb9039['x']<_0x54b580-0x1&&_0x55a715[_0xbb9039['x']+0x1][_0xbb9039['y']]!=0x0)_0xd3a17d[_0x196d92(0x1d1)]('right');if(_0xbb9039['y']>0x0&&_0x55a715[_0xbb9039['x']][_0xbb9039['y']-0x1]!=0x0)_0xd3a17d[_0x196d92(0x1d1)]('up');if(_0xbb9039['y']<_0x409837-0x1&&_0x55a715[_0xbb9039['x']][_0xbb9039['y']+0x1]!=0x0)_0xd3a17d[_0x196d92(0x1d1)](_0x196d92(0x203));let _0x19f4f6=MK[_0x196d92(0x1d6)][_0x196d92(0x201)](_0xd3a17d);_0x19f4f6==_0x196d92(0x1f3)&&(_0x55a715[_0xbb9039['x']][_0xbb9039['y']]=_0x55a715[_0xbb9039['x']][_0xbb9039['y']]|0x8,_0x55a715[_0xbb9039['x']-0x1][_0xbb9039['y']]=_0x55a715[_0xbb9039['x']-0x1][_0xbb9039['y']]|0x2),_0x19f4f6=='right'&&(_0x55a715[_0xbb9039['x']][_0xbb9039['y']]=_0x55a715[_0xbb9039['x']][_0xbb9039['y']]|0x2,_0x55a715[_0xbb9039['x']+0x1][_0xbb9039['y']]=_0x55a715[_0xbb9039['x']+0x1][_0xbb9039['y']]|0x8),_0x19f4f6=='up'&&(_0x55a715[_0xbb9039['x']][_0xbb9039['y']]=_0x55a715[_0xbb9039['x']][_0xbb9039['y']]|0x1,_0x55a715[_0xbb9039['x']][_0xbb9039['y']-0x1]=_0x55a715[_0xbb9039['x']][_0xbb9039['y']-0x1]|0x4),_0x19f4f6=='down'&&(_0x55a715[_0xbb9039['x']][_0xbb9039['y']]=_0x55a715[_0xbb9039['x']][_0xbb9039['y']]|0x4,_0x55a715[_0xbb9039['x']][_0xbb9039['y']+0x1]=_0x55a715[_0xbb9039['x']][_0xbb9039['y']+0x1]|0x1);}return _0x55a715;},MK[_0x26cb4a(0x190)][_0x26cb4a(0x161)]=function(_0xdf5233,_0x229c2e=0x1){const _0x255c25=_0x26cb4a;MK[_0x255c25(0x194)](_0xdf5233,_0x255c25(0x161),'map');for(let _0x1c1a45=0x0;_0x1c1a45<_0x229c2e;_0x1c1a45++){let _0x549b99=[];for(let _0x18cb84=0x0;_0x18cb84<_0xdf5233[_0x255c25(0x1bd)];_0x18cb84++){for(let _0x5561c6=0x0;_0x5561c6<_0xdf5233[_0x18cb84][_0x255c25(0x1bd)];_0x5561c6++){if([0x1,0x2,0x4,0x8][_0x255c25(0x1e2)](_0xdf5233[_0x18cb84][_0x5561c6]))_0x549b99[_0x255c25(0x1d1)]({'x':_0x18cb84,'y':_0x5561c6});}}for(let _0x37c0d9 of _0x549b99){let _0x439296=_0x37c0d9['x'],_0x212b9e=_0x37c0d9['y'];_0xdf5233[_0x439296][_0x212b9e]==0x1&&(_0xdf5233[_0x439296][_0x212b9e]=0x0,_0xdf5233[_0x439296][_0x212b9e-0x1]=_0xdf5233[_0x439296][_0x212b9e-0x1]&0xb),_0xdf5233[_0x439296][_0x212b9e]==0x2&&(_0xdf5233[_0x439296][_0x212b9e]=0x0,_0xdf5233[_0x439296+0x1][_0x212b9e]=_0xdf5233[_0x439296+0x1][_0x212b9e]&0x7),_0xdf5233[_0x439296][_0x212b9e]==0x4&&(_0xdf5233[_0x439296][_0x212b9e]=0x0,_0xdf5233[_0x439296][_0x212b9e+0x1]=_0xdf5233[_0x439296][_0x212b9e+0x1]&0xe),_0xdf5233[_0x439296][_0x212b9e]==0x8&&(_0xdf5233[_0x439296][_0x212b9e]=0x0,_0xdf5233[_0x439296-0x1][_0x212b9e]=_0xdf5233[_0x439296-0x1][_0x212b9e]&0xd);}}},MK[_0x26cb4a(0x190)][_0x26cb4a(0x18d)]=function(_0x4fcfd4,_0x313193=0.3){const _0x141b81=_0x26cb4a;MK[_0x141b81(0x194)](_0x4fcfd4,_0x141b81(0x18d),_0x141b81(0x1f4));for(let _0x564be6=0x0;_0x564be6<_0x4fcfd4[_0x141b81(0x1bd)];_0x564be6++){for(let _0x3ccd5a=0x0;_0x3ccd5a<_0x4fcfd4[_0x564be6][_0x141b81(0x1bd)];_0x3ccd5a++){if([0x1,0x2,0x4,0x8][_0x141b81(0x1e2)](_0x4fcfd4[_0x564be6][_0x3ccd5a])){if(!MK[_0x141b81(0x1d6)][_0x141b81(0x1ca)](_0x313193))continue;let _0x38eef0=[];if(_0x4fcfd4[_0x564be6][_0x3ccd5a]!=0x1&&_0x3ccd5a>0x0&&_0x4fcfd4[_0x564be6][_0x3ccd5a-0x1]!=0x0)_0x38eef0[_0x141b81(0x1d1)]('up');if(_0x4fcfd4[_0x564be6][_0x3ccd5a]!=0x2&&_0x564be6<_0x4fcfd4[_0x141b81(0x1bd)]-0x1&&_0x4fcfd4[_0x564be6+0x1][_0x3ccd5a]!=0x0)_0x38eef0[_0x141b81(0x1d1)](_0x141b81(0x1f2));if(_0x4fcfd4[_0x564be6][_0x3ccd5a]!=0x4&&_0x3ccd5a<_0x4fcfd4[_0x564be6][_0x141b81(0x1bd)]-0x1&&_0x4fcfd4[_0x564be6][_0x3ccd5a+0x1]!=0x0)_0x38eef0[_0x141b81(0x1d1)](_0x141b81(0x203));if(_0x4fcfd4[_0x564be6][_0x3ccd5a]!=0x8&&_0x564be6>0x0&&_0x4fcfd4[_0x564be6-0x1][_0x3ccd5a]!=0x0)_0x38eef0['push']('left');if(_0x38eef0[_0x141b81(0x1bd)]==0x0)continue;const _0x208198=MK[_0x141b81(0x1d6)]['pickRandom'](_0x38eef0);_0x208198=='up'&&(_0x4fcfd4[_0x564be6][_0x3ccd5a]=_0x4fcfd4[_0x564be6][_0x3ccd5a]|0x1,_0x4fcfd4[_0x564be6][_0x3ccd5a-0x1]=_0x4fcfd4[_0x564be6][_0x3ccd5a-0x1]|0x4),_0x208198==_0x141b81(0x1f2)&&(_0x4fcfd4[_0x564be6][_0x3ccd5a]=_0x4fcfd4[_0x564be6][_0x3ccd5a]|0x2,_0x4fcfd4[_0x564be6+0x1][_0x3ccd5a]=_0x4fcfd4[_0x564be6+0x1][_0x3ccd5a]|0x8),_0x208198==_0x141b81(0x203)&&(_0x4fcfd4[_0x564be6][_0x3ccd5a]=_0x4fcfd4[_0x564be6][_0x3ccd5a]|0x4,_0x4fcfd4[_0x564be6][_0x3ccd5a+0x1]=_0x4fcfd4[_0x564be6][_0x3ccd5a+0x1]|0x1),_0x208198==_0x141b81(0x1f3)&&(_0x4fcfd4[_0x564be6][_0x3ccd5a]=_0x4fcfd4[_0x564be6][_0x3ccd5a]|0x8,_0x4fcfd4[_0x564be6-0x1][_0x3ccd5a]=_0x4fcfd4[_0x564be6-0x1][_0x3ccd5a]|0x2);}}}},MK[_0x26cb4a(0x190)][_0x26cb4a(0x1a5)]=function(_0x4d7b21,_0x4c9c8e,_0x27a085){const _0x3cae34=_0x26cb4a,_0x1d56db=[_0x3cae34(0x160),_0x3cae34(0x1f2),_0x3cae34(0x1f3),_0x3cae34(0x1cb)],_0xd2d613=[_0x3cae34(0x160),'right',_0x3cae34(0x1f3),_0x3cae34(0x1cb),_0x3cae34(0x163)];let _0x39f066=_0x27a085[_0x3cae34(0x1d5)]||'bottom',_0x47a0e4=_0x27a085[_0x3cae34(0x1dd)]||'top';MK['requireNonNull'](_0x4d7b21,_0x3cae34(0x1a5),'w'),MK[_0x3cae34(0x194)](_0x4c9c8e,_0x3cae34(0x1a5),'h'),MK[_0x3cae34(0x194)](_0x27a085,_0x3cae34(0x1a5),'params'),MK[_0x3cae34(0x199)](_0x39f066,_0xd2d613,_0x3cae34(0x1a5),_0x3cae34(0x1a2)),MK['requireToBeOneOfThese'](_0x47a0e4,_0xd2d613,_0x3cae34(0x1a5),'end'),_0x39f066=_0x39f066!='any'?_0x39f066:MK[_0x3cae34(0x1d6)][_0x3cae34(0x201)](_0x1d56db[_0x3cae34(0x18a)](_0x505cfd=>_0x505cfd!=_0x47a0e4)),_0x47a0e4=_0x47a0e4!=_0x3cae34(0x163)?_0x47a0e4:MK['rng'][_0x3cae34(0x201)](_0x1d56db[_0x3cae34(0x18a)](_0x4b9471=>_0x4b9471!=_0x39f066));if(_0x39f066==_0x47a0e4)throw Error(_0x3cae34(0x1a4));let _0x48e9cf=_0x27a085[_0x3cae34(0x16e)]||_0x39f066!='top',_0x5e96c5=_0x27a085[_0x3cae34(0x16e)]||_0x39f066!='right',_0x1c0aaf=_0x27a085[_0x3cae34(0x16e)]||_0x39f066!='left',_0x177b19=_0x27a085['_allowGoingBack']||_0x39f066!=_0x3cae34(0x1cb);const _0x1c1df4=MK[_0x3cae34(0x1fc)](_0x4d7b21,_0x4c9c8e,0x0),_0xdbad03=MK[_0x3cae34(0x1fc)](_0x4d7b21,_0x4c9c8e,![]);let _0xbb5cad,_0x41605c;_0x39f066==_0x3cae34(0x160)&&(_0xbb5cad=Math['floor'](_0x4d7b21/0x2),_0x41605c=0x0);_0x39f066==_0x3cae34(0x1f2)&&(_0xbb5cad=_0x4d7b21-0x1,_0x41605c=Math[_0x3cae34(0x1e3)](_0x4c9c8e/0x2));_0x39f066==_0x3cae34(0x1f3)&&(_0xbb5cad=0x0,_0x41605c=Math[_0x3cae34(0x1e3)](_0x4c9c8e/0x2));_0x39f066==_0x3cae34(0x1cb)&&(_0xbb5cad=Math[_0x3cae34(0x1e3)](_0x4d7b21/0x2),_0x41605c=_0x4c9c8e-0x1);_0x1c1df4[_0xbb5cad][_0x41605c]=0x1;var _0x3f01e1=_0xbb5cad,_0x47b406=_0x41605c,_0x52ec47=[];_0x52ec47[_0x3cae34(0x1d1)]({'x':_0x3f01e1,'y':_0x47b406});while(_0x52ec47[_0x3cae34(0x1bd)]>0x0){_0x3f01e1=_0x52ec47[_0x52ec47[_0x3cae34(0x1bd)]-0x1]['x'],_0x47b406=_0x52ec47[_0x52ec47[_0x3cae34(0x1bd)]-0x1]['y'],_0x1c1df4[_0x3f01e1][_0x47b406]=0x1,_0xdbad03[_0x3f01e1][_0x47b406]=!![];var _0x1978d1=[];if(_0x47a0e4==_0x3cae34(0x160)&&_0x47b406==0x0)break;if(_0x47a0e4==_0x3cae34(0x1f2)&&_0x3f01e1==_0x4d7b21-0x1)break;if(_0x47a0e4=='left'&&_0x3f01e1==0x0)break;if(_0x47a0e4==_0x3cae34(0x1cb)&&_0x47b406==_0x4c9c8e-0x1)break;function _0x5485be(_0x11564e,_0x400961){return 0x0<=_0x11564e&&_0x11564e<_0x4d7b21&&0x0<=_0x400961&&_0x400961<_0x4c9c8e;}function _0x55ca7c(_0x1f4b3a,_0xe851d8){const _0x2374e1=_0x3cae34;return _0x5485be(_0x1f4b3a,_0xe851d8)&&(_0x27a085[_0x2374e1(0x1c1)]||!_0x1c1df4[_0x1f4b3a][_0xe851d8]&&!_0xdbad03[_0x1f4b3a][_0xe851d8]);}function _0x1b926f(_0x5a6061,_0x34b517){const _0x9a6b6f=_0x3cae34;if(!_0x5485be(_0x5a6061,_0x34b517))return![];if(!_0x27a085[_0x9a6b6f(0x1c1)]&&_0xdbad03[_0x5a6061][_0x34b517])return![];let _0x2c4aac=0x0;if(_0x5485be(_0x5a6061,_0x34b517-0x1)&&_0x1c1df4[_0x5a6061][_0x34b517-0x1])_0x2c4aac++;if(_0x5485be(_0x5a6061,_0x34b517+0x1)&&_0x1c1df4[_0x5a6061][_0x34b517+0x1])_0x2c4aac++;if(_0x5485be(_0x5a6061-0x1,_0x34b517)&&_0x1c1df4[_0x5a6061-0x1][_0x34b517])_0x2c4aac++;if(_0x5485be(_0x5a6061+0x1,_0x34b517)&&_0x1c1df4[_0x5a6061+0x1][_0x34b517])_0x2c4aac++;return _0x2c4aac<=0x1;}if(_0x27a085['_allowLargeAreas']){if(_0x55ca7c(_0x3f01e1,_0x47b406-0x1)&&_0x48e9cf)_0x1978d1[_0x3cae34(0x1d1)]('up');if(_0x55ca7c(_0x3f01e1+0x1,_0x47b406)&&_0x5e96c5)_0x1978d1[_0x3cae34(0x1d1)](_0x3cae34(0x1f2));if(_0x55ca7c(_0x3f01e1-0x1,_0x47b406)&&_0x1c0aaf)_0x1978d1[_0x3cae34(0x1d1)](_0x3cae34(0x1f3));if(_0x55ca7c(_0x3f01e1,_0x47b406+0x1)&&_0x177b19)_0x1978d1[_0x3cae34(0x1d1)](_0x3cae34(0x203));}else{if(_0x1b926f(_0x3f01e1,_0x47b406-0x1)&&_0x48e9cf)_0x1978d1[_0x3cae34(0x1d1)]('up');if(_0x1b926f(_0x3f01e1+0x1,_0x47b406)&&_0x5e96c5)_0x1978d1['push']('right');if(_0x1b926f(_0x3f01e1-0x1,_0x47b406)&&_0x1c0aaf)_0x1978d1['push'](_0x3cae34(0x1f3));if(_0x1b926f(_0x3f01e1,_0x47b406+0x1)&&_0x177b19)_0x1978d1[_0x3cae34(0x1d1)](_0x3cae34(0x203));}if(_0x1978d1[_0x3cae34(0x1bd)]==0x0){_0x52ec47[_0x3cae34(0x17b)](),_0x1c1df4[_0x3f01e1][_0x47b406]=0x0;continue;}const _0x518fad=MK[_0x3cae34(0x1d6)]['pickRandom'](_0x1978d1);if(_0x518fad=='up')_0x47b406=_0x47b406-0x1;if(_0x518fad==_0x3cae34(0x1f2))_0x3f01e1=_0x3f01e1+0x1;if(_0x518fad==_0x3cae34(0x1f3))_0x3f01e1=_0x3f01e1-0x1;if(_0x518fad==_0x3cae34(0x203))_0x47b406=_0x47b406+0x1;_0x52ec47[_0x3cae34(0x1d1)]({'x':_0x3f01e1,'y':_0x47b406});}return this[_0x3cae34(0x165)](_0x1c1df4);},MK[_0x26cb4a(0x190)]['binary2drawable']=function(_0x32264a){const _0x50cb00=_0x26cb4a,_0x451c88=_0x32264a[_0x50cb00(0x1bd)],_0x2df52d=_0x32264a[0x0]['length'],_0x222cab=MK[_0x50cb00(0x1fc)](_0x451c88,_0x2df52d);function _0x51cb02(_0x197084,_0x21b0c0){return _0x197084>=0x0&&_0x197084<_0x451c88&&_0x21b0c0>=0x0&&_0x21b0c0<_0x2df52d&&_0x32264a[_0x197084][_0x21b0c0];}function _0x42fb2d(_0x387078,_0x28de40){return _0x51cb02(_0x387078-0x1,_0x28de40)&&_0x51cb02(_0x387078-0x1,_0x28de40-0x1)&&_0x51cb02(_0x387078,_0x28de40-0x1)||_0x51cb02(_0x387078,_0x28de40-0x1)&&_0x51cb02(_0x387078+0x1,_0x28de40-0x1)&&_0x51cb02(_0x387078+0x1,_0x28de40)||_0x51cb02(_0x387078+0x1,_0x28de40)&&_0x51cb02(_0x387078+0x1,_0x28de40+0x1)&&_0x51cb02(_0x387078,_0x28de40+0x1)||_0x51cb02(_0x387078,_0x28de40+0x1)&&_0x51cb02(_0x387078-0x1,_0x28de40+0x1)&&_0x51cb02(_0x387078-0x1,_0x28de40);}for(let _0x4d719c=0x0;_0x4d719c<_0x451c88;_0x4d719c++){for(let _0x4dd5b0=0x0;_0x4dd5b0<_0x2df52d;_0x4dd5b0++){if(!_0x32264a[_0x4d719c][_0x4dd5b0]){_0x222cab[_0x4d719c][_0x4dd5b0]=0x0;continue;}let _0x39b2db=0x0;if(!_0x42fb2d(_0x4d719c,_0x4dd5b0)){if(_0x51cb02(_0x4d719c,_0x4dd5b0-0x1))_0x39b2db=_0x39b2db|0x1;if(_0x51cb02(_0x4d719c+0x1,_0x4dd5b0))_0x39b2db=_0x39b2db|0x2;if(_0x51cb02(_0x4d719c,_0x4dd5b0+0x1))_0x39b2db=_0x39b2db|0x4;if(_0x51cb02(_0x4d719c-0x1,_0x4dd5b0))_0x39b2db=_0x39b2db|0x8;}else{if(_0x51cb02(_0x4d719c+0x1,_0x4dd5b0)&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0+0x1)&&_0x51cb02(_0x4d719c,_0x4dd5b0+0x1))_0x39b2db=_0x39b2db|0x1;if(_0x51cb02(_0x4d719c-0x1,_0x4dd5b0)&&_0x51cb02(_0x4d719c-0x1,_0x4dd5b0+0x1)&&_0x51cb02(_0x4d719c,_0x4dd5b0+0x1))_0x39b2db=_0x39b2db|0x2;if(_0x51cb02(_0x4d719c-0x1,_0x4dd5b0)&&_0x51cb02(_0x4d719c-0x1,_0x4dd5b0-0x1)&&_0x51cb02(_0x4d719c,_0x4dd5b0-0x1))_0x39b2db=_0x39b2db|0x4;if(_0x51cb02(_0x4d719c,_0x4dd5b0-0x1)&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0-0x1)&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0))_0x39b2db=_0x39b2db|0x8;if(_0x39b2db==0x1)_0x39b2db=0x0;else{if(_0x39b2db==0x2)_0x39b2db=0x2;else{if(_0x39b2db==0x3)_0x39b2db=0x1;else{if(_0x39b2db==0x4)_0x39b2db=0x8;else{if(_0x39b2db==0x5)_0x39b2db=0xe;else{if(_0x39b2db==0x6)_0x39b2db=0x5;else{if(_0x39b2db==0x7)_0x39b2db=0xc;else{if(_0x39b2db==0x8)_0x39b2db=0x6;else{if(_0x39b2db==0x9)_0x39b2db=0x3;else{if(_0x39b2db==0xa)_0x39b2db=0xb;else{if(_0x39b2db==0xb)_0x39b2db=0xd;else{if(_0x39b2db==0xc)_0x39b2db=0x7;else{if(_0x39b2db==0xd)_0x39b2db=0xa;else{if(_0x39b2db==0xe)_0x39b2db=0x9;else{if(_0x39b2db==0xf)_0x39b2db=0x4;}}}}}}}}}}}}}}if(_0x39b2db==0x0&&_0x51cb02(_0x4d719c,_0x4dd5b0-0x1)&&_0x51cb02(_0x4d719c-0x1,_0x4dd5b0))_0x39b2db=0x10+0x3;else{if(_0x39b2db==0x2&&_0x51cb02(_0x4d719c,_0x4dd5b0-0x1)&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0))_0x39b2db=0x10+0x7;else{if(_0x39b2db==0x6&&_0x51cb02(_0x4d719c,_0x4dd5b0+0x1)&&_0x51cb02(_0x4d719c-0x1,_0x4dd5b0))_0x39b2db=0x10+0xf;else{if(_0x39b2db==0x8&&_0x51cb02(_0x4d719c,_0x4dd5b0+0x1)&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0))_0x39b2db=0x10+0xb;else{if(_0x39b2db==0x0&&_0x51cb02(_0x4d719c,_0x4dd5b0-0x1))_0x39b2db=0x10+0x0;else{if(_0x39b2db==0x1&&_0x51cb02(_0x4d719c,_0x4dd5b0-0x1))_0x39b2db=0x10+0x1;else{if(_0x39b2db==0x2&&_0x51cb02(_0x4d719c,_0x4dd5b0-0x1))_0x39b2db=0x10+0x2;else{if(_0x39b2db==0x6&&_0x51cb02(_0x4d719c,_0x4dd5b0+0x1))_0x39b2db=0x10+0x4;else{if(_0x39b2db==0x7&&_0x51cb02(_0x4d719c,_0x4dd5b0+0x1))_0x39b2db=0x10+0x5;else{if(_0x39b2db==0x8&&_0x51cb02(_0x4d719c,_0x4dd5b0+0x1))_0x39b2db=0x10+0x6;else{if(_0x39b2db==0x0&&_0x51cb02(_0x4d719c-0x1,_0x4dd5b0))_0x39b2db=0x10+0x8;else{if(_0x39b2db==0x2&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0))_0x39b2db=0x10+0x9;else{if(_0x39b2db==0x3&&_0x51cb02(_0x4d719c-0x1,_0x4dd5b0))_0x39b2db=0x10+0xa;else{if(_0x39b2db==0x6&&_0x51cb02(_0x4d719c-0x1,_0x4dd5b0))_0x39b2db=0x10+0xc;else{if(_0x39b2db==0x8&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0))_0x39b2db=0x10+0xd;else{if(_0x39b2db==0x5&&_0x51cb02(_0x4d719c+0x1,_0x4dd5b0))_0x39b2db=0x10+0xe;}}}}}}}}}}}}}}}_0x39b2db+=0x10;}_0x222cab[_0x4d719c][_0x4dd5b0]=_0x39b2db;}}return _0x222cab;},MK[_0x26cb4a(0x190)][_0x26cb4a(0x1ff)]=function(_0x3dea72,_0x130475){const _0x572a6d=_0x26cb4a;MK[_0x572a6d(0x194)](_0x3dea72,_0x572a6d(0x1ff),'map'),MK[_0x572a6d(0x199)](_0x130475,[_0x572a6d(0x160),_0x572a6d(0x1f3),_0x572a6d(0x1f2),_0x572a6d(0x1cb)],'makeWayOut','direction');const _0x7686e4=[],_0x26a7eb=_0x3dea72[_0x572a6d(0x1bd)],_0x4ed44c=_0x3dea72[0x0][_0x572a6d(0x1bd)];if(_0x130475==_0x572a6d(0x1cb))for(let _0x352946=0x0;_0x352946<_0x26a7eb;_0x352946++){if(_0x3dea72[_0x352946][_0x4ed44c-0x1]!=0x0)_0x7686e4[_0x572a6d(0x1d1)]({'x':_0x352946,'y':_0x4ed44c-0x1});}if(_0x130475==_0x572a6d(0x1f2))for(let _0x2d1d9f=0x0;_0x2d1d9f<_0x4ed44c;_0x2d1d9f++){if(_0x3dea72[_0x26a7eb-0x1][_0x2d1d9f]!=0x0)_0x7686e4[_0x572a6d(0x1d1)]({'x':_0x26a7eb-0x1,'y':_0x2d1d9f});}if(_0x130475==_0x572a6d(0x1f3))for(let _0x445103=0x0;_0x445103<_0x4ed44c;_0x445103++){if(_0x3dea72[0x0][_0x445103]!=0x0)_0x7686e4[_0x572a6d(0x1d1)]({'x':0x0,'y':_0x445103});}if(_0x130475==_0x572a6d(0x160))for(let _0x53c53b=0x0;_0x53c53b<_0x26a7eb;_0x53c53b++){if(_0x3dea72[_0x53c53b][0x0]!=0x0)_0x7686e4[_0x572a6d(0x1d1)]({'x':_0x53c53b,'y':0x0});}if(_0x7686e4[_0x572a6d(0x1bd)]>0x0){const _0x379d4e=MK[_0x572a6d(0x1d6)][_0x572a6d(0x201)](_0x7686e4);MK[_0x572a6d(0x190)]['buildTunnel'](_0x3dea72,_0x379d4e['x'],_0x379d4e['y'],_0x130475);}else MK['mazeAlgorithms'][_0x572a6d(0x1e6)](_0x3dea72,_0x130475);},MK[_0x26cb4a(0x190)][_0x26cb4a(0x1e6)]=function(_0x56cc6c,_0x516593){const _0x129729=_0x26cb4a;let _0x134dcf,_0x1269c0,_0x367094,_0x26523f,_0x28aec9;const _0x1913f7=_0x56cc6c[_0x129729(0x1bd)],_0x3bd312=_0x56cc6c[0x0][_0x129729(0x1bd)];_0x516593==_0x129729(0x160)&&(_0x134dcf=Math[_0x129729(0x1e3)](_0x1913f7/0x2),_0x1269c0=0x0,_0x367094=0x0,_0x26523f=0x1,_0x28aec9=_0x129729(0x1cb));_0x516593=='left'&&(_0x134dcf=0x0,_0x1269c0=Math[_0x129729(0x1e3)](_0x3bd312/0x2),_0x367094=0x1,_0x26523f=0x0,_0x28aec9=_0x129729(0x1f2));_0x516593==_0x129729(0x1f2)&&(_0x134dcf=_0x1913f7-0x1,_0x1269c0=Math[_0x129729(0x1e3)](_0x3bd312/0x2),_0x367094=-0x1,_0x26523f=0x0,_0x28aec9=_0x129729(0x1f3));_0x516593==_0x129729(0x1cb)&&(_0x134dcf=Math[_0x129729(0x1e3)](_0x1913f7/0x2),_0x1269c0=_0x3bd312-0x1,_0x367094=0x0,_0x26523f=-0x1,_0x28aec9='left');while(_0x56cc6c[_0x134dcf][_0x1269c0]==0x0){MK[_0x129729(0x190)]['buildTunnel'](_0x56cc6c,_0x134dcf,_0x1269c0,_0x516593),MK[_0x129729(0x190)][_0x129729(0x1ea)](_0x56cc6c,_0x134dcf,_0x1269c0,_0x28aec9),_0x134dcf=_0x134dcf+_0x367094,_0x1269c0=_0x1269c0+_0x26523f;}MK[_0x129729(0x190)][_0x129729(0x1ea)](_0x56cc6c,_0x134dcf,_0x1269c0,_0x516593);},MK[_0x26cb4a(0x190)][_0x26cb4a(0x1ea)]=function(_0x13b64a,_0x6c4630,_0x27399b,_0x3a3a37){const _0x15df66=_0x26cb4a,_0x139002=_0x13b64a[_0x6c4630][_0x27399b];let _0x5ec968;if(_0x3a3a37==_0x15df66(0x160)&&_0x139002<0x10)_0x5ec968=_0x139002|0x1;if(_0x3a3a37==_0x15df66(0x1f2)&&_0x139002<0x10)_0x5ec968=_0x139002|0x2;if(_0x3a3a37==_0x15df66(0x1cb)&&_0x139002<0x10)_0x5ec968=_0x139002|0x4;if(_0x3a3a37==_0x15df66(0x1f3)&&_0x139002<0x10)_0x5ec968=_0x139002|0x8;if(_0x3a3a37==_0x15df66(0x160)&&_0x139002>=0x10){if(_0x139002==0x10+0x0)_0x5ec968=0x20+0x0;if(_0x139002==0x10+0x1)_0x5ec968=0x20+0x1;if(_0x139002==0x10+0x2)_0x5ec968=0x20+0x2;if(_0x139002==0x20+0x8)_0x5ec968=0x20+0x3;if(_0x139002==0x20+0x9)_0x5ec968=0x20+0x8;}if(_0x3a3a37==_0x15df66(0x1f2)&&_0x139002>=0x10){if(_0x139002==0x10+0x2)_0x5ec968=0x20+0x9;if(_0x139002==0x10+0x5)_0x5ec968=0x20+0xe;if(_0x139002==0x10+0x8)_0x5ec968=0x20+0xd;if(_0x139002==0x20+0x2)_0x5ec968=0x20+0x7;if(_0x139002==0x20+0x6)_0x5ec968=0x20+0xb;}if(_0x3a3a37=='bottom'&&_0x139002>=0x10){if(_0x139002==0x10+0x6)_0x5ec968=0x20+0x4;if(_0x139002==0x10+0x7)_0x5ec968=0x20+0x5;if(_0x139002==0x10+0x8)_0x5ec968=0x20+0x6;if(_0x139002==0x20+0xc)_0x5ec968=0x20+0xf;if(_0x139002==0x20+0xd)_0x5ec968=0x20+0xb;}if(_0x3a3a37=='left'&&_0x139002>=0x10){if(_0x139002==0x10+0x0)_0x5ec968=0x20+0x8;if(_0x139002==0x10+0x3)_0x5ec968=0x20+0xa;if(_0x139002==0x10+0x6)_0x5ec968=0x20+0xc;if(_0x139002==0x20+0x0)_0x5ec968=0x20+0x3;if(_0x139002==0x20+0x4)_0x5ec968=0x20+0xf;}_0x13b64a[_0x6c4630][_0x27399b]=_0x5ec968;},MK[_0x26cb4a(0x190)][_0x26cb4a(0x195)]=function(_0x447d0d,_0xbd39b6,_0x2a1700){const _0x474512=_0x26cb4a;let _0x3678f1=MK['rng'][_0x474512(0x1e9)](_0x2a1700['_minRooms'],_0x2a1700[_0x474512(0x16f)]),_0x133e09=_0x2a1700[_0x474512(0x191)]||0x0,_0x58969f=MK[_0x474512(0x1fc)](_0x447d0d,_0xbd39b6),_0x4f6bd8=[],_0xfe9cb=[];if(_0x447d0d-_0x2a1700['_maxRoomWidth']-_0x133e09<0x1||_0xbd39b6-_0x2a1700[_0x474512(0x1db)]-_0x133e09<0x1)throw Error(_0x474512(0x1d9)+_0x474512(0x171));function _0x4f4509(_0x2697be,_0x345e0a){const _0x54431f=_0x474512;let _0x145b37=_0x2697be['x']>_0x345e0a['x']+_0x345e0a[_0x54431f(0x1ce)]+0x1||_0x345e0a['x']>_0x2697be['x']+_0x2697be[_0x54431f(0x1ce)]+0x1,_0x174ac7=_0x2697be['y']>_0x345e0a['y']+_0x345e0a['height']+0x1||_0x345e0a['y']>_0x2697be['y']+_0x2697be[_0x54431f(0x192)]+0x1;return!_0x145b37&&!_0x174ac7;}function _0x251b2e(_0x334bdb){return _0xfe9cb['some'](_0x597462=>_0x4f4509(_0x334bdb,_0x597462));}let _0x4f8f5c=0x0;while(_0xfe9cb[_0x474512(0x1bd)]<_0x3678f1){let _0x2d230a=MK[_0x474512(0x1d6)]['randomInteger'](_0x2a1700[_0x474512(0x1e8)],_0x2a1700['_maxRoomWidth'])-0x1,_0x4a38fd=MK['rng'][_0x474512(0x1e9)](_0x2a1700[_0x474512(0x1c4)],_0x2a1700['_maxRoomHeight'])-0x1,_0x477841=MK['rng']['randomInteger'](_0x133e09,_0x447d0d-_0x2d230a-0x1-_0x133e09),_0x13a7f8=MK['rng']['randomInteger'](_0x133e09,_0xbd39b6-_0x4a38fd-0x1-_0x133e09),_0x2d76b0=new Rectangle(_0x477841,_0x13a7f8,_0x2d230a,_0x4a38fd);!_0x2a1700[_0x474512(0x175)]&&_0x251b2e(_0x2d76b0)?_0xfe9cb['shift']():_0xfe9cb[_0x474512(0x1d1)](_0x2d76b0);_0x4f8f5c++;if(_0x4f8f5c>=0x3e7)throw Error(_0x474512(0x1a1));}for(let _0x236f24 of _0xfe9cb){let _0x4d85e5={};_0x4d85e5['x']=Math[_0x474512(0x1e3)](_0x236f24[_0x474512(0x1ce)]/0x2)+_0x236f24['x'],_0x4d85e5['y']=Math[_0x474512(0x1e3)](_0x236f24[_0x474512(0x192)]/0x2)+_0x236f24['y'],_0x4f6bd8[_0x474512(0x1d1)](_0x4d85e5);for(let _0x8cb14=_0x236f24['x'];_0x8cb14<=_0x236f24['x']+_0x236f24[_0x474512(0x1ce)];_0x8cb14++){for(let _0x376d4e=_0x236f24['y'];_0x376d4e<=_0x236f24['y']+_0x236f24[_0x474512(0x192)];_0x376d4e++){_0x58969f[_0x8cb14][_0x376d4e]=!![];}}}const _0x49c8f8=MK[_0x474512(0x166)](_0x4f6bd8);for(let _0x260f26 of _0x49c8f8){let _0x56ed3e=[],_0x1dd117=MK[_0x474512(0x1d6)][_0x474512(0x1ca)](0.5),_0x309267=Math['min'](_0x260f26['start']['x'],_0x260f26[_0x474512(0x1f8)]['x']),_0x144bc7=Math['max'](_0x260f26[_0x474512(0x1a2)]['x'],_0x260f26[_0x474512(0x1f8)]['x']),_0x1655fa=_0x1dd117?_0x260f26[_0x474512(0x1a2)]['y']:_0x260f26[_0x474512(0x1f8)]['y'],_0xab67f8=Math[_0x474512(0x1a7)](_0x260f26['start']['y'],_0x260f26[_0x474512(0x1f8)]['y']),_0x2f2c70=Math[_0x474512(0x193)](_0x260f26['start']['y'],_0x260f26[_0x474512(0x1f8)]['y']),_0x3da363=_0x1dd117?_0x260f26['dest']['x']:_0x260f26[_0x474512(0x1a2)]['x'];for(let _0x573b1a=_0x309267;_0x573b1a<=_0x144bc7;_0x573b1a++){_0x56ed3e[_0x474512(0x1d1)]({'x':_0x573b1a,'y':_0x1655fa});}for(let _0x92c2e=_0xab67f8;_0x92c2e<=_0x2f2c70;_0x92c2e++){_0x56ed3e[_0x474512(0x1d1)]({'x':_0x3da363,'y':_0x92c2e});}_0x56ed3e[_0x474512(0x16d)](_0x8ec0ea=>_0x58969f[_0x8ec0ea['x']][_0x8ec0ea['y']]=!![]);}return _0x58969f;};class DungeonGenerator extends AbstractMapGenerator{constructor(){const _0x2d4e02=_0x26cb4a;super(),this[_0x2d4e02(0x191)]=MK['DEFAULT_BORDER_WIDTH'],this[_0x2d4e02(0x176)]=null;}[_0x26cb4a(0x1f6)](){const _0x187b32=_0x26cb4a;super[_0x187b32(0x1f6)]();}[_0x26cb4a(0x1cc)](){const _0x162340=_0x26cb4a;super['resetAfterFinalize'](),this[_0x162340(0x191)]=MK[_0x162340(0x1cf)];}[_0x26cb4a(0x1bf)](_0x320e0b){const _0x40fa8d=_0x26cb4a;return this[_0x40fa8d(0x191)]=_0x320e0b,this;}[_0x26cb4a(0x1b9)](){const _0x1abab2=_0x26cb4a;return Math[_0x1abab2(0x1e3)]((MK['additionalMaps'][_0x1abab2(0x1af)][_0x1abab2(0x1ce)]-0x5)/0x4);}[_0x26cb4a(0x1c3)](){const _0x4a3518=_0x26cb4a;return Math['floor']((MK[_0x4a3518(0x204)]['snippets'][_0x4a3518(0x192)]-0x5)/0x4);}['getDungeonWidth'](){const _0x3952f3=_0x26cb4a;return Math[_0x3952f3(0x1e3)](($dataMap[_0x3952f3(0x1ce)]-0x2*this[_0x3952f3(0x191)])/this[_0x3952f3(0x1b9)]());}[_0x26cb4a(0x1a6)](){const _0x15677d=_0x26cb4a;return Math[_0x15677d(0x1e3)](($dataMap[_0x15677d(0x192)]-0x2*this[_0x15677d(0x191)])/this[_0x15677d(0x1c3)]());}[_0x26cb4a(0x1bc)](){const _0x24d95b=_0x26cb4a;if(!MK[_0x24d95b(0x204)]['snippets'])this[_0x24d95b(0x1d8)]('Snippets\x20Map',_0x24d95b(0x1af));this[_0x24d95b(0x1df)]();}[_0x26cb4a(0x1e1)](){const _0x2a8de3=_0x26cb4a;if(!MK[_0x2a8de3(0x204)]['snippets'])this['error'](_0x2a8de3(0x197),'snippets');if(!MK['additionalMaps'][_0x2a8de3(0x18b)])this[_0x2a8de3(0x1d8)](_0x2a8de3(0x16c),'snippetsArea');if(!MK[_0x2a8de3(0x204)][_0x2a8de3(0x1f0)])this[_0x2a8de3(0x1d8)](_0x2a8de3(0x1ac),_0x2a8de3(0x189));this[_0x2a8de3(0x1df)]();}[_0x26cb4a(0x1df)](){const _0x4edb7c=_0x26cb4a,_0x4e4814=this[_0x4edb7c(0x17d)](),_0x12c5b7=this['getDungeonHeight'](),_0x5ec55d=this[_0x4edb7c(0x1b9)]()*0x3+0x2*this[_0x4edb7c(0x191)],_0xf02294=this[_0x4edb7c(0x1c3)]()*0x3+0x2*this['_borderWidth'];if(_0x4e4814<0x2||_0x12c5b7<0x2)throw Error(_0x4edb7c(0x168)+_0x5ec55d+'x'+_0xf02294);}['error'](_0x57b123,_0x13d8da){const _0x185c86=_0x26cb4a;throw Error(_0x57b123+_0x185c86(0x1ee)+_0x185c86(0x1b6)+_0x13d8da+'\x27');}[_0x26cb4a(0x162)](_0x2dba4f,_0x504c0c,_0x215723,_0x354575,_0x3880b1=0x4){const _0x8b812b=_0x26cb4a,_0x19cfd6=this[_0x8b812b(0x1b9)](),_0x128ae2=this[_0x8b812b(0x1c3)](),_0x80a203=_0x504c0c%_0x3880b1*(_0x19cfd6+0x1)+0x1,_0x4f64c9=Math[_0x8b812b(0x1e3)](_0x504c0c/_0x3880b1)*(_0x128ae2+0x1)+0x1,_0x5cf87d=_0x215723*_0x19cfd6+this['_borderWidth'],_0x3fc75d=_0x354575*_0x128ae2+this['_borderWidth'],_0x1262d2=MK[_0x8b812b(0x1d0)](_0x2dba4f);MK[_0x8b812b(0x1f7)](_0x80a203,_0x4f64c9,_0x19cfd6,_0x128ae2,_0x5cf87d,_0x3fc75d,_0x1262d2,this[_0x8b812b(0x19f)]),MK[_0x8b812b(0x173)](_0x80a203,_0x4f64c9,_0x19cfd6,_0x128ae2,_0x5cf87d,_0x3fc75d,_0x1262d2,this['dataMap']);}[_0x26cb4a(0x202)](){const _0x209037=_0x26cb4a;return this[_0x209037(0x1f6)](),this[_0x209037(0x1bc)](),this[_0x209037(0x1f4)]=MK[_0x209037(0x190)][_0x209037(0x202)](this[_0x209037(0x17d)](),this[_0x209037(0x1a6)]()),new MazeBuilderParams();}[_0x26cb4a(0x1a5)](){return this['reset'](),new RandomWalkParams();}[_0x26cb4a(0x181)](_0x5c7d45){const _0x465cbc=_0x26cb4a;this[_0x465cbc(0x1e1)]();const _0x3b77b3=this[_0x465cbc(0x17d)](),_0x8dae79=this['getDungeonHeight']();return this[_0x465cbc(0x1f4)]=MK['mazeAlgorithms']['randomWalk'](_0x3b77b3,_0x8dae79,_0x5c7d45),this;}['roomsAndCorridors'](){const _0x1a99bb=_0x26cb4a;return this[_0x1a99bb(0x1f6)](),new RoomsAndCorridorsParams();}[_0x26cb4a(0x1f9)](_0x543373){const _0x2bfbf6=_0x26cb4a;this[_0x2bfbf6(0x1e1)]();const _0x7afa6b=this['getDungeonWidth'](),_0x28465e=this[_0x2bfbf6(0x1a6)]();return _0x543373[_0x2bfbf6(0x187)]=0x1,_0x543373[_0x2bfbf6(0x191)]=0x0,this['map']=MK[_0x2bfbf6(0x190)]['roomsAndCorridors'](_0x7afa6b,_0x28465e,_0x543373),this[_0x2bfbf6(0x1f4)]=MK[_0x2bfbf6(0x190)][_0x2bfbf6(0x165)](this[_0x2bfbf6(0x1f4)]),this;}[_0x26cb4a(0x182)](_0x38a583){const _0x6b83c9=_0x26cb4a;var _0x8327df=_0x38a583[_0x6b83c9(0x1bd)],_0x389256=_0x38a583[0x0]['length'],_0x226960=MK['createMatrix'](_0x8327df,_0x389256);function _0x18d4d5(_0x359a8e,_0x45d509){return _0x359a8e<0x0||_0x359a8e>=_0x8327df||_0x45d509<0x0||_0x45d509>=_0x389256||_0x38a583[_0x359a8e][_0x45d509]==0x0;}for(var _0x3e8982=0x0;_0x3e8982<_0x8327df;_0x3e8982++){for(var _0x451ccd=0x0;_0x451ccd<_0x389256;_0x451ccd++){if(_0x38a583[_0x3e8982][_0x451ccd]){_0x226960[_0x3e8982][_0x451ccd]=_0x38a583[_0x3e8982][_0x451ccd];continue;}var _0x219cb5=0x0,_0x2aba06=0x0;if(_0x18d4d5(_0x3e8982+0x1,_0x451ccd)&&_0x18d4d5(_0x3e8982+0x1,_0x451ccd+0x1)&&_0x18d4d5(_0x3e8982,_0x451ccd+0x1))_0x219cb5=_0x219cb5|0x1;if(_0x18d4d5(_0x3e8982-0x1,_0x451ccd)&&_0x18d4d5(_0x3e8982-0x1,_0x451ccd+0x1)&&_0x18d4d5(_0x3e8982,_0x451ccd+0x1))_0x219cb5=_0x219cb5|0x2;if(_0x18d4d5(_0x3e8982-0x1,_0x451ccd)&&_0x18d4d5(_0x3e8982-0x1,_0x451ccd-0x1)&&_0x18d4d5(_0x3e8982,_0x451ccd-0x1))_0x219cb5=_0x219cb5|0x4;if(_0x18d4d5(_0x3e8982,_0x451ccd-0x1)&&_0x18d4d5(_0x3e8982+0x1,_0x451ccd-0x1)&&_0x18d4d5(_0x3e8982+0x1,_0x451ccd))_0x219cb5=_0x219cb5|0x8;if(_0x219cb5==0x0)_0x2aba06=-0x40;if(_0x219cb5==0x1)_0x2aba06=0x0;if(_0x219cb5==0x2)_0x2aba06=0x2;if(_0x219cb5==0x3)_0x2aba06=0x1;if(_0x219cb5==0x4)_0x2aba06=0x8;if(_0x219cb5==0x5)_0x2aba06=0xe;if(_0x219cb5==0x6)_0x2aba06=0x5;if(_0x219cb5==0x7)_0x2aba06=0xc;if(_0x219cb5==0x8)_0x2aba06=0x6;if(_0x219cb5==0x9)_0x2aba06=0x3;if(_0x219cb5==0xa)_0x2aba06=0xb;if(_0x219cb5==0xb)_0x2aba06=0xd;if(_0x219cb5==0xc)_0x2aba06=0x7;if(_0x219cb5==0xd)_0x2aba06=0xa;if(_0x219cb5==0xe)_0x2aba06=0x9;if(_0x219cb5==0xf)_0x2aba06=0x4;_0x2aba06+=0x40,_0x226960[_0x3e8982][_0x451ccd]=_0x2aba06;}}for(var _0x3e8982=0x0;_0x3e8982<_0x8327df;_0x3e8982++){for(var _0x451ccd=0x0;_0x451ccd<_0x389256;_0x451ccd++){_0x38a583[_0x3e8982][_0x451ccd]=_0x226960[_0x3e8982][_0x451ccd];}}}[_0x26cb4a(0x1cd)](_0x268553){const _0x20c6c4=_0x26cb4a;for(let _0x1608af=0x0;_0x1608af<_0x268553[_0x20c6c4(0x1bd)];_0x1608af++){for(let _0x25e044=0x0;_0x25e044<_0x268553[0x0][_0x20c6c4(0x1bd)];_0x25e044++){_0x268553[_0x1608af][_0x25e044]=this[_0x20c6c4(0x1c2)](_0x268553[_0x1608af][_0x25e044]);}}}['_remapSnippet'](_0x553ccd){switch(_0x553ccd){case 0x0:return 0x0;case 0x1:return 0xc;case 0x2:return 0xd;case 0x3:return 0x9;case 0x4:return 0xe;case 0x5:return 0x4;case 0x6:return 0x1;case 0x7:return 0x5;case 0x8:return 0xf;case 0x9:return 0xb;case 0xa:return 0x8;case 0xb:return 0xa;case 0xc:return 0x3;case 0xd:return 0x7;case 0xe:return 0x2;case 0xf:return 0x6;}return _0x553ccd;}['generate'](){const _0x1c789d=_0x26cb4a,_0x483be9=this[_0x1c789d(0x1f4)];this[_0x1c789d(0x1cd)](this[_0x1c789d(0x1f4)]);var _0x1ff4f3=_0x1c789d(0x1af)in MK[_0x1c789d(0x204)]?['snippets']:[],_0x3dc93c=_0x1c789d(0x18b)in MK[_0x1c789d(0x204)]?[_0x1c789d(0x18b)]:[],_0x213a5e='snippetstransitions'in MK[_0x1c789d(0x204)]?[_0x1c789d(0x1f0)]:[],_0x3c92a3=_0x1c789d(0x1b1)in MK[_0x1c789d(0x204)]?['snippetsouter']:[];for(let _0x2b894c=0x0;_0x2b894c<0x63;_0x2b894c++){if(_0x1c789d(0x1af)+_0x2b894c in MK[_0x1c789d(0x204)])_0x1ff4f3[_0x1c789d(0x1d1)](_0x1c789d(0x1af)+_0x2b894c);if('snippetsarea'+_0x2b894c in MK[_0x1c789d(0x204)])_0x3dc93c[_0x1c789d(0x1d1)](_0x1c789d(0x18b)+_0x2b894c);if(_0x1c789d(0x1f0)+_0x2b894c in MK[_0x1c789d(0x204)])_0x213a5e['push']('snippetstransitions'+_0x2b894c);if(_0x1c789d(0x1b1)+_0x2b894c in MK[_0x1c789d(0x204)])_0x3c92a3[_0x1c789d(0x1d1)]('snippetsouter'+_0x2b894c);}if(_0x3c92a3[_0x1c789d(0x1bd)]>0x0)this[_0x1c789d(0x182)](_0x483be9);if(_0x1ff4f3[_0x1c789d(0x1bd)]==0x0)throw Error(_0x1c789d(0x19d));for(var _0x4c7e38=0x0;_0x4c7e38<_0x483be9[_0x1c789d(0x1bd)];_0x4c7e38++){for(var _0x27bb53=0x0;_0x27bb53<_0x483be9[_0x4c7e38][_0x1c789d(0x1bd)];_0x27bb53++){var _0x50130f=_0x483be9[_0x4c7e38][_0x27bb53];if(_0x50130f<0x10)this['placeSnippet'](MK[_0x1c789d(0x1d6)]['pickRandom'](_0x1ff4f3),_0x50130f,_0x4c7e38,_0x27bb53);if(_0x50130f>=0x10&&_0x50130f<0x20)this[_0x1c789d(0x162)](MK[_0x1c789d(0x1d6)][_0x1c789d(0x201)](_0x3dc93c),_0x50130f-0x10,_0x4c7e38,_0x27bb53,0x3);if(_0x50130f>=0x20&&_0x50130f<0x30)this[_0x1c789d(0x162)](MK[_0x1c789d(0x1d6)][_0x1c789d(0x201)](_0x213a5e),_0x50130f-0x20,_0x4c7e38,_0x27bb53);if(_0x50130f>=0x40)this[_0x1c789d(0x162)](MK[_0x1c789d(0x1d6)]['pickRandom'](_0x3c92a3),_0x50130f-0x40,_0x4c7e38,_0x27bb53,0x3);}}return this;}[_0x26cb4a(0x1da)](_0x4efe81,_0x34f901,_0xfba80d,_0x360808,_0x266189,_0x3887f8){const _0x6b1045=_0x26cb4a;MK['requireNonNull'](_0x4efe81,_0x6b1045(0x1da),'r'),_0x3887f8=_0x3887f8||this['dataMap'],_0x34f901=_0x34f901||0x0,_0x360808=_0x360808||0x0,_0xfba80d=_0xfba80d||_0x3887f8['width'],_0x266189=_0x266189||_0x3887f8[_0x6b1045(0x192)];const _0x2ef13c=[];for(let _0x1afa6b=_0x34f901;_0x1afa6b<_0xfba80d;_0x1afa6b++){for(let _0x3d8dda=_0x360808;_0x3d8dda<_0x266189;_0x3d8dda++){if(MK[_0x6b1045(0x1b5)](_0x1afa6b,_0x3d8dda,_0x3887f8)==_0x4efe81)_0x2ef13c[_0x6b1045(0x1d1)]({'x':_0x1afa6b,'y':_0x3d8dda});}}return _0x2ef13c;}[_0x26cb4a(0x1c7)](_0xee2492,_0x204989){const _0x5abde8=_0x26cb4a;if(!_0x204989)_0x204989=_0x5abde8(0x163);if(![_0x5abde8(0x1cb),'top',_0x5abde8(0x1f3),_0x5abde8(0x1f2),_0x5abde8(0x163)][_0x5abde8(0x1e2)](_0x204989))throw Error(_0x5abde8(0x1b3)+_0x204989);var _0x28b0c5=[];if(_0x204989==_0x5abde8(0x163))_0x28b0c5=this[_0x5abde8(0x1da)](_0xee2492);else for(var _0x5093cd=0x1;_0x28b0c5[_0x5abde8(0x1bd)]==0x0;_0x5093cd++){if(_0x204989==_0x5abde8(0x1cb))var _0x5e2b54=0x0,_0x46e826=this[_0x5abde8(0x19f)][_0x5abde8(0x1ce)],_0x23bee6=this[_0x5abde8(0x19f)][_0x5abde8(0x192)]-_0x5093cd*this[_0x5abde8(0x1c3)](),_0x16adfc=this['dataMap']['height'];if(_0x204989==_0x5abde8(0x160))var _0x5e2b54=0x0,_0x46e826=this[_0x5abde8(0x19f)][_0x5abde8(0x1ce)],_0x23bee6=0x0,_0x16adfc=_0x5093cd*this[_0x5abde8(0x1c3)]();if(_0x204989=='left')var _0x5e2b54=0x0,_0x46e826=_0x5093cd*this[_0x5abde8(0x1b9)](),_0x23bee6=0x0,_0x16adfc=this['dataMap']['height'];if(_0x204989==_0x5abde8(0x1f2))var _0x5e2b54=this[_0x5abde8(0x19f)]['width']-_0x5093cd*this['getSnippetWidth'](),_0x46e826=this['dataMap'][_0x5abde8(0x1ce)],_0x23bee6=0x0,_0x16adfc=this[_0x5abde8(0x19f)][_0x5abde8(0x192)];if(_0x5e2b54<0x0||_0x46e826>this[_0x5abde8(0x19f)]['width']||_0x23bee6<0x0||_0x16adfc>this[_0x5abde8(0x19f)][_0x5abde8(0x192)])break;_0x28b0c5=this[_0x5abde8(0x1da)](_0xee2492,_0x5e2b54,_0x46e826,_0x23bee6,_0x16adfc);}return _0x28b0c5;}[_0x26cb4a(0x179)](_0x5c3198,_0x241689){const _0x277f7f=_0x26cb4a,_0x34b537=this['getPossibleLocationsByDirection'](_0x5c3198,_0x241689);if(_0x34b537[_0x277f7f(0x1bd)]==0x0)return{'x':0x0,'y':0x0};return MK[_0x277f7f(0x1d6)]['pickRandom'](_0x34b537);}[_0x26cb4a(0x167)](_0x7cf71f,_0x4c765f){const _0x3feb25=_0x26cb4a;this[_0x3feb25(0x18c)]();var _0x29cfab=this[_0x3feb25(0x179)](_0x7cf71f,_0x4c765f);return this[_0x3feb25(0x16a)](_0x29cfab['x'],_0x29cfab['y'],_0x7cf71f),_0x29cfab;}[_0x26cb4a(0x1e0)](_0x3c1a3b){const _0x4e6562=_0x26cb4a;return this[_0x4e6562(0x167)](MK['ENTRANCE_REGION_ID'],_0x3c1a3b),this;}[_0x26cb4a(0x1a8)](_0x4292f4){const _0x1633f0=_0x26cb4a;return this[_0x1633f0(0x167)](MK[_0x1633f0(0x17e)],_0x4292f4),this;}['drawDecorations'](_0x18e6d6){const _0x56c468=_0x26cb4a;this[_0x56c468(0x18c)]();for(let _0xe26b4a in this[_0x56c468(0x17a)][_0x56c468(0x1d2)]){if(_0x18e6d6!=null&&!_0x18e6d6[_0x56c468(0x1e2)](Number(_0xe26b4a)))continue;if([MK[_0x56c468(0x1fa)],MK['EXIT_REGION_ID'],MK[_0x56c468(0x1ae)]][_0x56c468(0x1e2)](Number(_0xe26b4a)))continue;for(let _0x1baa4f of this[_0x56c468(0x1da)](_0xe26b4a)){this['drawDecorationToXY'](_0x1baa4f['x'],_0x1baa4f['y'],_0xe26b4a);}}return this;}[_0x26cb4a(0x164)](_0xe055ae,_0x2812b1,_0x27808d){const _0x54059a=_0x26cb4a;_0x2812b1=!_0x2812b1&&_0x2812b1!==0x0?0x1:_0x2812b1,_0x27808d=_0x27808d||_0x2812b1;const _0x257e63=MK[_0x54059a(0x1d6)][_0x54059a(0x1e9)](_0x2812b1,_0x27808d),_0x4092a5=this[_0x54059a(0x17a)][_0x54059a(0x1d2)][_0xe055ae];if(!_0x4092a5)throw Error(_0x54059a(0x1c0)+_0xe055ae);for(let _0x334768=0x0;_0x334768<_0x257e63;_0x334768++){const _0xd3cfa3=this[_0x54059a(0x1da)](_0xe055ae);if(!_0xd3cfa3['length'])break;const _0x4026d8=MK['rng'][_0x54059a(0x201)](_0xd3cfa3);this[_0x54059a(0x16a)](_0x4026d8['x'],_0x4026d8['y'],_0xe055ae);}return MK[_0x54059a(0x1ec)](this[_0x54059a(0x19f)],_0xe055ae),this;}[_0x26cb4a(0x16a)](_0x7d8cf4,_0x468856,_0x5bc11c){const _0x146b6d=_0x26cb4a,_0x529b32=this['assetsInfo'][_0x146b6d(0x1d2)][_0x5bc11c];if(!_0x529b32)throw Error(_0x146b6d(0x1a0)+_0x5bc11c+_0x146b6d(0x19a));const _0x18a9fe=MK[_0x146b6d(0x1d6)][_0x146b6d(0x1e9)](0x0,_0x529b32['n']-0x1);this[_0x146b6d(0x180)](_0x7d8cf4,_0x468856,_0x146b6d(0x1d2),_0x529b32,_0x18a9fe);}[_0x26cb4a(0x18c)](){const _0x259899=_0x26cb4a,_0x9660e9=MK[_0x259899(0x1d0)](_0x259899(0x1d2)),_0x549fbc=_0x9660e9[_0x259899(0x1ce)],_0x29b905=_0x9660e9['height'];this[_0x259899(0x17a)]={},this['assetsInfo']['decoration']={};function _0x340c98(_0x3dea93,_0x28380e){let _0x154eab=0x0,_0x57140c=_0x28380e;for(;MK['regionId'](_0x154eab,_0x57140c,_0x9660e9)==_0x3dea93;_0x154eab++){}_0x154eab-=0x1;for(;MK['regionId'](_0x154eab,_0x57140c,_0x9660e9)==_0x3dea93;_0x57140c++){}return{'w':_0x154eab+0x1,'h':_0x57140c-_0x28380e};}function _0x369b6f(_0xd2828e,_0x3684fa,_0x833083){const _0x204160=_0x259899,_0x533578=MK['arrange'](_0x549fbc)[_0x204160(0x1ab)](_0x21c022=>MK[_0x204160(0x1b5)](_0x21c022,_0xd2828e,_0x9660e9)==MK[_0x204160(0x1dc)]);if(_0x533578!=-0x1)return Math[_0x204160(0x1e3)](_0x533578/_0x3684fa)-0x1;for(var _0x42d540=0x1;(_0x42d540+0x1)*_0x3684fa-0x1<_0x549fbc;_0x42d540++){if(MK[_0x204160(0x17c)](_0x42d540*_0x3684fa,_0xd2828e,_0x3684fa,_0x833083,_0x9660e9))return _0x42d540-0x1;}return 0x1;}for(var _0x2a4d04=0x0;_0x2a4d04<_0x29b905;_0x2a4d04++){var _0x9b6e21=MK[_0x259899(0x1b5)](0x0,_0x2a4d04,_0x9660e9);if(_0x9b6e21 in this[_0x259899(0x17a)][_0x259899(0x1d2)])continue;if(_0x9b6e21){const _0xd3f04=_0x340c98(_0x9b6e21,_0x2a4d04),_0x3d966=_0x369b6f(_0x2a4d04,_0xd3f04['w'],_0xd3f04['h']),_0x284a21={};_0x284a21[_0x259899(0x1b5)]=_0x9b6e21,_0x284a21['x']=_0xd3f04['w'],_0x284a21['y']=_0x2a4d04,_0x284a21['w']=_0xd3f04['w'],_0x284a21['h']=_0xd3f04['h'],_0x284a21['n']=_0x3d966,this[_0x259899(0x17a)][_0x259899(0x1d2)][_0x9b6e21]=_0x284a21;}}}[_0x26cb4a(0x19b)](_0x10154e,_0x5f100e){const _0x289be9=_0x26cb4a;if(typeof _0x10154e=='number'&&typeof _0x5f100e==_0x289be9(0x16b))MK[_0x289be9(0x1e7)](_0x289be9(0x17f));const _0x912dbe=_0x10154e||'any',_0x1bbacd=_0x5f100e||MK[_0x289be9(0x1ae)];return this['spawnLocation']=this[_0x289be9(0x179)](_0x1bbacd,_0x912dbe),this;}}var $dungeonGenerator=new DungeonGenerator();function _0x2546(_0x334b57,_0x25225e){const _0x363942=_0x3639();return _0x2546=function(_0x25460c,_0xdef507){_0x25460c=_0x25460c-0x160;let _0x44f150=_0x363942[_0x25460c];return _0x44f150;},_0x2546(_0x334b57,_0x25225e);}class MazeBuilderParams{['cutOffDeadEnds'](_0x1391af){const _0x55e3d8=_0x26cb4a;return MK['mazeAlgorithms']['cutOffDeadEnds']($dungeonGenerator[_0x55e3d8(0x1f4)],_0x1391af),this;}[_0x26cb4a(0x18d)](_0x1c2c47){return MK['mazeAlgorithms']['mergeDeadEnds']($dungeonGenerator['map'],_0x1c2c47),this;}[_0x26cb4a(0x1ff)](_0x5d8686){const _0x1ee3e7=_0x26cb4a;return MK[_0x1ee3e7(0x190)][_0x1ee3e7(0x1ff)]($dungeonGenerator[_0x1ee3e7(0x1f4)],_0x5d8686),this;}[_0x26cb4a(0x185)](){const _0x3ed360=_0x26cb4a;return $dungeonGenerator[_0x3ed360(0x185)](),$dungeonGenerator;}}class RandomWalkParams{constructor(){const _0x4edbed=_0x26cb4a;this[_0x4edbed(0x1d5)]='bottom',this['_exit']='top',this[_0x4edbed(0x16e)]=!![],this[_0x4edbed(0x1c5)]=!![],this['_allowRevisit']=![],this[_0x4edbed(0x1b4)]=![];}['start'](_0x15e43a){const _0x31505f=_0x26cb4a;return this[_0x31505f(0x1d5)]=_0x15e43a,this;}[_0x26cb4a(0x1b0)](_0x1f302a){const _0x9b6005=_0x26cb4a;return this[_0x9b6005(0x1dd)]=_0x1f302a,this;}[_0x26cb4a(0x184)](_0x5389df){const _0x9ec19b=_0x26cb4a;return this[_0x9ec19b(0x16e)]=_0x5389df,this;}[_0x26cb4a(0x1ed)](_0x309926){return this['_allowLargeAreas']=_0x309926,this;}['allowRevisit'](_0x474798){const _0xbc6c54=_0x26cb4a;return this[_0xbc6c54(0x1c1)]=_0x474798,this;}[_0x26cb4a(0x185)](){const _0x447f22=_0x26cb4a;if(!this[_0x447f22(0x1b4)])$dungeonGenerator['run_randomWalk'](this);return $dungeonGenerator[_0x447f22(0x185)](),this['_generated']=!![],$dungeonGenerator;}['makeWayOut'](_0x3e215f){const _0x1ab982=_0x26cb4a;return!this['_generated']&&($dungeonGenerator['run_randomWalk'](this),this[_0x1ab982(0x1b4)]=!![]),$dungeonGenerator['makeWayOut'](_0x3e215f),this;}}class RoomsAndCorridorsParams{constructor(){const _0x32033c=_0x26cb4a;this[_0x32033c(0x177)]=0x3,this[_0x32033c(0x16f)]=0x4,this[_0x32033c(0x1e8)]=0x2,this[_0x32033c(0x1c8)]=0x3,this[_0x32033c(0x1c4)]=0x2,this[_0x32033c(0x1db)]=0x2,this['_generated']=![];}[_0x26cb4a(0x186)](_0xbe0414){return this['_minRooms']=_0xbe0414,this;}[_0x26cb4a(0x1e4)](_0x134870){const _0x12657b=_0x26cb4a;return this[_0x12657b(0x16f)]=_0x134870,this;}['minRoomWidth'](_0x4a4d6d){const _0x20c918=_0x26cb4a;return this[_0x20c918(0x1e8)]=_0x4a4d6d,this;}[_0x26cb4a(0x174)](_0x35360b){return this['_maxRoomWidth']=_0x35360b,this;}[_0x26cb4a(0x1a3)](_0x26ce75){return this['_minRoomHeight']=_0x26ce75,this;}[_0x26cb4a(0x1ad)](_0x177cb5){const _0x5b0cb6=_0x26cb4a;return this[_0x5b0cb6(0x1db)]=_0x177cb5,this;}[_0x26cb4a(0x1f1)](_0xe787c5){const _0x293de4=_0x26cb4a;return this[_0x293de4(0x1e8)]=_0xe787c5,this[_0x293de4(0x1c4)]=_0xe787c5,this;}[_0x26cb4a(0x1e5)](_0xd1e44){return this['_maxRoomWidth']=_0xd1e44,this['_maxRoomHeight']=_0xd1e44,this;}['allowOverlapping'](){const _0x90a2d2=_0x26cb4a;return this[_0x90a2d2(0x175)]=!![],this;}[_0x26cb4a(0x185)](){const _0x77d59e=_0x26cb4a;if(!this[_0x77d59e(0x1b4)])$dungeonGenerator[_0x77d59e(0x1f9)](this);return $dungeonGenerator[_0x77d59e(0x185)](),this['_generated']=!![],$dungeonGenerator;}}PluginManager&&PluginManager[_0x26cb4a(0x1aa)]&&(PluginManager[_0x26cb4a(0x1aa)]('MK_RNGMaps_withSnippets',_0x26cb4a(0x1bf),_0x16d9bb=>{const _0xadbbf8=_0x26cb4a;$dungeonGenerator['borderWidth'](Number(_0x16d9bb[_0xadbbf8(0x172)]));}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x1eb),_0x560055=>{const _0x598c51=_0x26cb4a;$dungeonGenerator[_0x598c51(0x202)]()['generate']();}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x1ef),_0x403b22=>{const _0x52926a=_0x26cb4a;_0x403b22['mode']=='Cut\x20off,\x20then\x20Merge'?$dungeonGenerator[_0x52926a(0x202)]()[_0x52926a(0x161)](Number(_0x403b22['cutOffDeadEnds']))[_0x52926a(0x18d)](Number(_0x403b22[_0x52926a(0x18d)]))['generate']():$dungeonGenerator[_0x52926a(0x202)]()[_0x52926a(0x18d)](Number(_0x403b22[_0x52926a(0x18d)]))[_0x52926a(0x161)](Number(_0x403b22['cutOffDeadEnds']))[_0x52926a(0x185)]();}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x183),_0x11e3ca=>{const _0x3d9dd2=_0x26cb4a;$dungeonGenerator[_0x3d9dd2(0x1a5)]()[_0x3d9dd2(0x1a2)](_0x11e3ca['Start'])[_0x3d9dd2(0x1b0)](_0x11e3ca['End'])[_0x3d9dd2(0x1fd)](_0x11e3ca[_0x3d9dd2(0x1fd)]==_0x3d9dd2(0x1fe))[_0x3d9dd2(0x185)]();}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x1d3),_0x130598=>{const _0x7496ac=_0x26cb4a;$dungeonGenerator[_0x7496ac(0x1a5)]()['start'](_0x130598[_0x7496ac(0x1bb)])[_0x7496ac(0x1b0)](_0x130598[_0x7496ac(0x1de)])['allowGoingBack'](![])[_0x7496ac(0x185)]();}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x1b8),_0x507511=>{const _0x3441c5=_0x26cb4a;$dungeonGenerator[_0x3441c5(0x195)]()[_0x3441c5(0x186)](Number(_0x507511['minRooms']))[_0x3441c5(0x1e4)](Number(_0x507511[_0x3441c5(0x1e4)]))[_0x3441c5(0x1c9)](Number(_0x507511[_0x3441c5(0x1c9)]))['maxRoomWidth'](Number(_0x507511[_0x3441c5(0x174)]))[_0x3441c5(0x1a3)](Number(_0x507511['minRoomHeight']))[_0x3441c5(0x1ad)](Number(_0x507511[_0x3441c5(0x1ad)]))['generate']();}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x198),_0x3cfc49=>{const _0x4cf443=_0x26cb4a;$dungeonGenerator[_0x4cf443(0x1e0)](_0x3cfc49['Position']);}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),'placeExit',_0x3bfc98=>{const _0x1ca953=_0x26cb4a;$dungeonGenerator[_0x1ca953(0x1a8)](_0x3bfc98[_0x1ca953(0x1b2)]);}),PluginManager['registerCommand']('MK_RNGMaps_withSnippets',_0x26cb4a(0x19b),_0x2cd571=>{const _0x32af5b=_0x26cb4a;$dungeonGenerator[_0x32af5b(0x19b)](_0x2cd571['direction'],Number(_0x2cd571[_0x32af5b(0x1b5)]));}),PluginManager[_0x26cb4a(0x1aa)]('MK_RNGMaps_withSnippets',_0x26cb4a(0x196),_0x3b7ce0=>{const _0x8ddce=_0x26cb4a,_0x476924=_0x3b7ce0['Ids']?_0x3b7ce0[_0x8ddce(0x200)][_0x8ddce(0x1ba)](',')['map'](_0x3bb012=>Number(_0x3bb012)):undefined;$dungeonGenerator['drawDecorations'](_0x476924);}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x164),_0x21a209=>{const _0x53ecdf=_0x26cb4a;$dungeonGenerator['drawDecorationXTimes'](Number(_0x21a209['Id']),Number(_0x21a209[_0x53ecdf(0x1a7)]),Number(_0x21a209['max']));}),PluginManager[_0x26cb4a(0x1aa)](_0x26cb4a(0x1fb),_0x26cb4a(0x188),_0x9f5e6a=>{const _0x43137f=_0x26cb4a;$dungeonGenerator[_0x43137f(0x188)]();}));