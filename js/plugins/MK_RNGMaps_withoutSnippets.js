/*:
 * @target MZ
 * @plugindesc [Tier 3] [0.42] generate Maps using Algorithms
 * @author Aerosys
 * @url https://aerosys.blog
 * @base MK_RNGMaps_Core
 * @base MK_RNGMaps_MapAlgorithms
 * @orderAfter MK_RNGMaps_Core
 * @orderBefore MK_RNGMaps_MoreMapAlgorithms
 * @
 * 
 * 
 * =====================================================================================
 * COMMANDS
 * =====================================================================================
 * 
 * @command cave
 * @text Generate Cave, Forest, Field...
 * 
 * @arg drawAreas
 * @text draw Areas?
 * @desc When disabled, only Paths are drawn
 * @type boolean
 * @default true
 * 
 * @arg border
 * @text do Border?
 * @desc Areas are faded out towards the Map's end
 * @type boolean
 * @default true
 * 
 * @arg scale
 * @text Scale
 * @desc The higher the scale, the more zoomed in the Map will look like
 * @type number
 * @default 10
 * 
 * @arg minValue
 * @text Min Value
 * @desc The higher the value, the smaller the ground floor will be. Choose from 0.0 ~ 1.0
 * @type number
 * @decimals 2
 * @default 0.55
 * 
 * @arg min_nodes
 * @text min Number Nodes
 * @desc Minimal Number of Nodes to connect
 * @type number
 * @default 5
 * 
 * @arg max_nodes
 * @text max Number Nodes
 * @desc Maximal Number of Nodes to connect
 * @type number
 * @default 15
 * 
 * @arg min_randomEdges
 * @text min Number additional Paths
 * @desc Minimal Number of additional Nodes to be added to the Spanning Tree
 * @type number
 * @default 0
 * 
 * @arg max_randomEdges
 * @text max Number additional Paths
 * @desc Maximal Number of additional Nodes to be added to the Spanning Tree
 * @type number
 * @default 2
 * 
 * @arg minThickness
 * @text min Path Thickness
 * @desc Must be 1, 2, 3, 4, or 5
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 3
 * 
 * @arg maxThickness
 * @text max Path Thickness
 * @desc Must be 1, 2, 3, 4, or 5
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 5
 * 
 * @arg minRoadThickness
 * @text min Road Thickness
 * @desc Must be 1, 2, 3, 4, or 5
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 4
 * 
 * @arg maxRoadThickness
 * @text max Road Thickness
 * @desc Must be 1, 2, 3, 4, or 5
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 5
 * 
 * @arg roadMode
 * @text Road Mode
 * @type select
 * @option Angular
 * @option Smooth
 * @default Angular
 * 
 * @arg centerExits
 * @text center Exits?
 * @type boolean
 * @default false
 * 
 * 
 * @command worldMap
 * @text Generate Worldmap
 * 
 * @arg scale
 * @text Scale
 * @desc The higher the scale, the more zoomed in the Map will look like
 * @type number
 * @default 10
 * 
 * @arg groundLevel
 * @text Override Ground Level value
 * @desc Starting from 0. Use -1 to auto-detect.
 * @type number
 * @default -1
 * 
 * @arg min_islands
 * @text min Number Islands
 * @type number
 * @default 1
 * 
 * @arg max_islands
 * @text max Number Islands
 * @type number
 * @default 99
 * 
 * @arg minSizeToHaveABiome
 * @text min Size of an Island to have a Biome
 * @type number
 * @default 15
 * 
 * @arg drawRivers
 * @text Draw Rivers?
 * @type boolean
 * @default true
 * 
 * @arg townsVariable
 * @desc the Generator calculates <island size / townVariable> to determine how many towns a island will have
 * @type number
 * @default 400
 * 
 * 
 * @command roomsAndCorridors
 * @text Generate 'Rooms and Corridors'
 * 
 * @arg min_roomsToBuild
 * @text min number of Rooms
 * @type number
 * @default 4
 * 
 * @arg max_roomsToBuild
 * @text max number of Rooms
 * @type number
 * @default 5
 * 
 * @arg min_roomWidth
 * @text min Room Width
 * @type number
 * @default 7
 * 
 * @arg max_roomWidth
 * @text max Room Width
 * @type number
 * @default 9
 * 
 * @arg min_roomHeight
 * @text min Room Height
 * @type number
 * @default 5
 * 
 * @arg max_roomHeight
 * @text max Room Height
 * @type number
 * @default 5
 * 
 * @arg allowOverlapping
 * @text allow overlapping?
 * @type boolean
 * @default false
 * 
 * @arg min_randomEdges
 * @text min Number additional Corridors
 * @desc Minimal Number of additional Nodes to be added to the Spanning Tree
 * @type number
 * @default 0
 * 
 * @arg max_randomEdges
 * @text max Number additional Corridors
 * @desc Maximal Number of additional Nodes to be added to the Spanning Tree
 * @type number
 * @default 2
 * 
 * @arg minThickness
 * @text min Path Thickness
 * @desc Must be 1, 2, 3, 4, or 5
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 2
 * 
 * @arg maxThickness
 * @text max Path Thickness
 * @desc Must be 1, 2, 3, 4, or 5
 * @type select
 * @option 1
 * @option 2
 * @option 3
 * @option 4
 * @option 5
 * @default 3
 * 
 * 
 * @command staticMap
 * @text Static Map
 * @desc Takes the Space Map itself as basement so you can eg. randomly spawn assets on it.
 * 
 * 
 * @command withExits
 * @text With Exits
 * 
 * @arg hasExitTop
 * @text Exit Top?
 * @type boolean
 * @default true
 * 
 * @arg hasExitLeft
 * @text Exit Left?
 * @type boolean
 * @default false
 * 
 * @arg hasExitRight
 * @text Exit Right?
 * @type boolean
 * @default false
 * 
 * @arg hasExitBottom
 * @text Exit Bottom?
 * @type boolean
 * @default true
 * 
 * 
 * @command spawnPlayerAt
 * @text Spawn Player at
 * 
 * @arg direction
 * @text Direction
 * @type select
 * @option top
 * @option left
 * @option right
 * @option bottom
 * @option here
 * @option any
 * @default bottom
 * 
 * 
 * @command generate
 * @text Generate
 * @desc Mandatory command. No arguments here.
 * 
 * 
 * @command drawStructures
 * @text draw Structures
 * @desc Draw Structures. Use it to draw e.g. Walls.
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Structures
 * @desc Name of the Map to read from
 * 
 * 
 * @command drawDetails
 * @text draw Details
 * @desc Draw Details. Will not block paths that are flagged as "accessible" by the algorithm.
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Details
 * @desc Name of the Map to read from
 * 
 * 
 * @command drawShadings
 * @text draw Shadings
 * @desc Draw Shadings. Impassable Tiles (e.g. Water) are not drawn on areas that are flagged as "accessible".
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Shadings
 * @desc Name of the Map to read from
 * 
 * @arg scale
 * @text Scale
 * @type Number
 * @default 5
 * @desc The higher the scale, the more zoomed in the Map will look like
 * 
 * @arg minValue
 * @text Min Value
 * @type Number
 * @default 0.55
 * @desc Choose from 0.0 ~ 1.0. The higher the value, the less tiles will be replaced.
 * 
 * 
 * @command drawBiomes
 * @text draw Biomes
 * @desc draw Biomes
 * 
 * @arg mapName
 * @text MapName
 * @type string
 * @default Biomes
 * @desc Name of the Map to read from
 * 
 * @arg scale
 * @text Scale
 * @type Number
 * @default 20
 * @desc The higher the scale, the wider the Map will look like
 * 
 * @arg minValue
 * @text Min Value
 * @type Number
 * @default 0.55
 * @desc Choose from 0.0 ~ 1.0. The higher the value, the less tiles will be replaced.
 * 
 * @arg minSize
 * @text Min Size
 * @type Number
 * @default 5
 * @desc a Biome must have at least this size, otherwise it is not drawn.
 * 
 * 
 * @command drawAsset
 * @text draw Asset X times
 * @desc draw a Asset X times
 * 
 * @arg type
 * @type select
 * @option Chest
 * @option Enemy
 * @option NPC
 * @option POI
 * @option Switch
 * @option decorative
 * @default Chest
 * 
 * @arg regionId
 * @text Region Id
 * @type number
 * @default 1
 * @desc the Region Id of this Object
 * 
 * @arg min
 * @text at least
 * @type number
 * @default 1
 * @desc minimum number to place
 * 
 * @arg max
 * @text at most
 * @type number
 * @default 1
 * @desc max number to place
 * 
 * 
 * @command finalize
 * @text Finalize
 * @desc Call this method at the end
 *  
 * 
 * =====================================================================================
 * HELP
 * =====================================================================================
 *
 * @help
 * T&C
 * ----------------------------
 * Credit Aerosys
 * Full T&C in the forums and on my website
 * 
 * This Plugin includes 3rd Party JS codes:
 * - noise: Stefan Gustavson (stegu<at>itn.liu.se), Public domain
 * - astar: http://github.com/bgrins/javascript-astar, MIT license
 * 
 * Thank you! :)
 * 
 * It's not required to give them credit into your game, but you can.
 *
 * Instructions and T&C at aerosys.blog
 * Please visit the rpgmakerweb forum to give feedback :)
 */

'use strict';

var Imported = Imported || { };
Imported.MK_RNGMaps_withoutSnippets = true;

if (!Imported.MK_RNGMaps_Core)
    alert ("Missing Plugin: MK_RNGMaps_Core");

// noise
var _0x3d68=['71gWDOOG','floor','seed','perlin3','6626iWfBdc','sqrt','377cfNIBh','dot2','simplex3','dot3','186237JTZSpd','134894QCsAle','perlin2','300211eHkCYR','noise','prototype','2YKhtxa','1twaVXB','47203LuCrlg','176048sEQfqA','simplex2'];var _0x486a=function(_0x1efb20,_0x1b6bd5){_0x1efb20=_0x1efb20-0xff;var _0x3d68a7=_0x3d68[_0x1efb20];return _0x3d68a7;};(function(_0x381dcf,_0x2f6900){var _0x33c369=_0x486a;while(!![]){try{var _0x262935=-parseInt(_0x33c369(0x112))+-parseInt(_0x33c369(0x103))*-parseInt(_0x33c369(0x10c))+parseInt(_0x33c369(0x106))+-parseInt(_0x33c369(0x113))*parseInt(_0x33c369(0x104))+parseInt(_0x33c369(0x105))+parseInt(_0x33c369(0x10e))*-parseInt(_0x33c369(0x108))+parseInt(_0x33c369(0x100));if(_0x262935===_0x2f6900)break;else _0x381dcf['push'](_0x381dcf['shift']());}catch(_0x3b3e3a){_0x381dcf['push'](_0x381dcf['shift']());}}}(_0x3d68,0x2e190),function(_0x35bc09){var _0x531b71=_0x486a,_0x20f14c=_0x35bc09[_0x531b71(0x101)]={};function _0x379221(_0x34bead,_0x3ed97b,_0x3d9861){this['x']=_0x34bead,this['y']=_0x3ed97b,this['z']=_0x3d9861;}_0x379221[_0x531b71(0x102)][_0x531b71(0x10f)]=function(_0x21e59a,_0x354d37){return this['x']*_0x21e59a+this['y']*_0x354d37;},_0x379221['prototype'][_0x531b71(0x111)]=function(_0x1b2977,_0x3603ee,_0x278064){return this['x']*_0x1b2977+this['y']*_0x3603ee+this['z']*_0x278064;};var _0x4ff91d=[new _0x379221(0x1,0x1,0x0),new _0x379221(-0x1,0x1,0x0),new _0x379221(0x1,-0x1,0x0),new _0x379221(-0x1,-0x1,0x0),new _0x379221(0x1,0x0,0x1),new _0x379221(-0x1,0x0,0x1),new _0x379221(0x1,0x0,-0x1),new _0x379221(-0x1,0x0,-0x1),new _0x379221(0x0,0x1,0x1),new _0x379221(0x0,-0x1,0x1),new _0x379221(0x0,0x1,-0x1),new _0x379221(0x0,-0x1,-0x1)],_0x4e9bfb=[0x97,0xa0,0x89,0x5b,0x5a,0xf,0x83,0xd,0xc9,0x5f,0x60,0x35,0xc2,0xe9,0x7,0xe1,0x8c,0x24,0x67,0x1e,0x45,0x8e,0x8,0x63,0x25,0xf0,0x15,0xa,0x17,0xbe,0x6,0x94,0xf7,0x78,0xea,0x4b,0x0,0x1a,0xc5,0x3e,0x5e,0xfc,0xdb,0xcb,0x75,0x23,0xb,0x20,0x39,0xb1,0x21,0x58,0xed,0x95,0x38,0x57,0xae,0x14,0x7d,0x88,0xab,0xa8,0x44,0xaf,0x4a,0xa5,0x47,0x86,0x8b,0x30,0x1b,0xa6,0x4d,0x92,0x9e,0xe7,0x53,0x6f,0xe5,0x7a,0x3c,0xd3,0x85,0xe6,0xdc,0x69,0x5c,0x29,0x37,0x2e,0xf5,0x28,0xf4,0x66,0x8f,0x36,0x41,0x19,0x3f,0xa1,0x1,0xd8,0x50,0x49,0xd1,0x4c,0x84,0xbb,0xd0,0x59,0x12,0xa9,0xc8,0xc4,0x87,0x82,0x74,0xbc,0x9f,0x56,0xa4,0x64,0x6d,0xc6,0xad,0xba,0x3,0x40,0x34,0xd9,0xe2,0xfa,0x7c,0x7b,0x5,0xca,0x26,0x93,0x76,0x7e,0xff,0x52,0x55,0xd4,0xcf,0xce,0x3b,0xe3,0x2f,0x10,0x3a,0x11,0xb6,0xbd,0x1c,0x2a,0xdf,0xb7,0xaa,0xd5,0x77,0xf8,0x98,0x2,0x2c,0x9a,0xa3,0x46,0xdd,0x99,0x65,0x9b,0xa7,0x2b,0xac,0x9,0x81,0x16,0x27,0xfd,0x13,0x62,0x6c,0x6e,0x4f,0x71,0xe0,0xe8,0xb2,0xb9,0x70,0x68,0xda,0xf6,0x61,0xe4,0xfb,0x22,0xf2,0xc1,0xee,0xd2,0x90,0xc,0xbf,0xb3,0xa2,0xf1,0x51,0x33,0x91,0xeb,0xf9,0xe,0xef,0x6b,0x31,0xc0,0xd6,0x1f,0xb5,0xc7,0x6a,0x9d,0xb8,0x54,0xcc,0xb0,0x73,0x79,0x32,0x2d,0x7f,0x4,0x96,0xfe,0x8a,0xec,0xcd,0x5d,0xde,0x72,0x43,0x1d,0x18,0x48,0xf3,0x8d,0x80,0xc3,0x4e,0x42,0xd7,0x3d,0x9c,0xb4],_0xabb549=new Array(0x200),_0x3d10e1=new Array(0x200);_0x20f14c[_0x531b71(0x10a)]=function(_0x59d419){_0x59d419>0x0&&_0x59d419<0x1&&(_0x59d419*=0x10000);_0x59d419=Math['floor'](_0x59d419);_0x59d419<0x100&&(_0x59d419|=_0x59d419<<0x8);for(var _0x9bccaf=0x0;_0x9bccaf<0x100;_0x9bccaf++){var _0x49390c;_0x9bccaf&0x1?_0x49390c=_0x4e9bfb[_0x9bccaf]^_0x59d419&0xff:_0x49390c=_0x4e9bfb[_0x9bccaf]^_0x59d419>>0x8&0xff,_0xabb549[_0x9bccaf]=_0xabb549[_0x9bccaf+0x100]=_0x49390c,_0x3d10e1[_0x9bccaf]=_0x3d10e1[_0x9bccaf+0x100]=_0x4ff91d[_0x49390c%0xc];}},_0x20f14c[_0x531b71(0x10a)](0x0);var _0x12af73=0.5*(Math[_0x531b71(0x10d)](0x3)-0x1),_0x22a453=(0x3-Math[_0x531b71(0x10d)](0x3))/0x6,_0x146246=0x1/0x3,_0x4caf41=0x1/0x6;_0x20f14c[_0x531b71(0x107)]=function(_0xf905d1,_0x210528){var _0x417325=_0x531b71,_0x14f6db,_0x3e9423,_0x1081f5,_0x3d2207=(_0xf905d1+_0x210528)*_0x12af73,_0xe357fc=Math[_0x417325(0x109)](_0xf905d1+_0x3d2207),_0x368a63=Math[_0x417325(0x109)](_0x210528+_0x3d2207),_0xdcafca=(_0xe357fc+_0x368a63)*_0x22a453,_0x47907c=_0xf905d1-_0xe357fc+_0xdcafca,_0xadc6c0=_0x210528-_0x368a63+_0xdcafca,_0x3f26f7,_0xe82bcf;_0x47907c>_0xadc6c0?(_0x3f26f7=0x1,_0xe82bcf=0x0):(_0x3f26f7=0x0,_0xe82bcf=0x1);var _0x15311f=_0x47907c-_0x3f26f7+_0x22a453,_0x1b10a0=_0xadc6c0-_0xe82bcf+_0x22a453,_0x288a49=_0x47907c-0x1+0x2*_0x22a453,_0x20b385=_0xadc6c0-0x1+0x2*_0x22a453;_0xe357fc&=0xff,_0x368a63&=0xff;var _0x1ff251=_0x3d10e1[_0xe357fc+_0xabb549[_0x368a63]],_0x4613bf=_0x3d10e1[_0xe357fc+_0x3f26f7+_0xabb549[_0x368a63+_0xe82bcf]],_0x37ec16=_0x3d10e1[_0xe357fc+0x1+_0xabb549[_0x368a63+0x1]],_0x563b90=0.5-_0x47907c*_0x47907c-_0xadc6c0*_0xadc6c0;_0x563b90<0x0?_0x14f6db=0x0:(_0x563b90*=_0x563b90,_0x14f6db=_0x563b90*_0x563b90*_0x1ff251[_0x417325(0x10f)](_0x47907c,_0xadc6c0));var _0x333292=0.5-_0x15311f*_0x15311f-_0x1b10a0*_0x1b10a0;_0x333292<0x0?_0x3e9423=0x0:(_0x333292*=_0x333292,_0x3e9423=_0x333292*_0x333292*_0x4613bf[_0x417325(0x10f)](_0x15311f,_0x1b10a0));var _0x10518b=0.5-_0x288a49*_0x288a49-_0x20b385*_0x20b385;return _0x10518b<0x0?_0x1081f5=0x0:(_0x10518b*=_0x10518b,_0x1081f5=_0x10518b*_0x10518b*_0x37ec16[_0x417325(0x10f)](_0x288a49,_0x20b385)),0x46*(_0x14f6db+_0x3e9423+_0x1081f5);},_0x20f14c[_0x531b71(0x110)]=function(_0x3b4f9b,_0x3caa7d,_0x3efc66){var _0x209409=_0x531b71,_0x3786d4,_0x946f53,_0x377132,_0x573622,_0x464de9=(_0x3b4f9b+_0x3caa7d+_0x3efc66)*_0x146246,_0x131d8b=Math[_0x209409(0x109)](_0x3b4f9b+_0x464de9),_0x3e7f48=Math[_0x209409(0x109)](_0x3caa7d+_0x464de9),_0x4ae533=Math[_0x209409(0x109)](_0x3efc66+_0x464de9),_0x3c3ad4=(_0x131d8b+_0x3e7f48+_0x4ae533)*_0x4caf41,_0xa285e=_0x3b4f9b-_0x131d8b+_0x3c3ad4,_0x5d50ab=_0x3caa7d-_0x3e7f48+_0x3c3ad4,_0x235bd6=_0x3efc66-_0x4ae533+_0x3c3ad4,_0x537738,_0x397c6d,_0x3eac28,_0x24e59a,_0xa57b6f,_0x1b0a5c;if(_0xa285e>=_0x5d50ab){if(_0x5d50ab>=_0x235bd6)_0x537738=0x1,_0x397c6d=0x0,_0x3eac28=0x0,_0x24e59a=0x1,_0xa57b6f=0x1,_0x1b0a5c=0x0;else _0xa285e>=_0x235bd6?(_0x537738=0x1,_0x397c6d=0x0,_0x3eac28=0x0,_0x24e59a=0x1,_0xa57b6f=0x0,_0x1b0a5c=0x1):(_0x537738=0x0,_0x397c6d=0x0,_0x3eac28=0x1,_0x24e59a=0x1,_0xa57b6f=0x0,_0x1b0a5c=0x1);}else{if(_0x5d50ab<_0x235bd6)_0x537738=0x0,_0x397c6d=0x0,_0x3eac28=0x1,_0x24e59a=0x0,_0xa57b6f=0x1,_0x1b0a5c=0x1;else _0xa285e<_0x235bd6?(_0x537738=0x0,_0x397c6d=0x1,_0x3eac28=0x0,_0x24e59a=0x0,_0xa57b6f=0x1,_0x1b0a5c=0x1):(_0x537738=0x0,_0x397c6d=0x1,_0x3eac28=0x0,_0x24e59a=0x1,_0xa57b6f=0x1,_0x1b0a5c=0x0);}var _0x556405=_0xa285e-_0x537738+_0x4caf41,_0x351e48=_0x5d50ab-_0x397c6d+_0x4caf41,_0x25e673=_0x235bd6-_0x3eac28+_0x4caf41,_0x154fd3=_0xa285e-_0x24e59a+0x2*_0x4caf41,_0x1647d0=_0x5d50ab-_0xa57b6f+0x2*_0x4caf41,_0x2afec9=_0x235bd6-_0x1b0a5c+0x2*_0x4caf41,_0x37573d=_0xa285e-0x1+0x3*_0x4caf41,_0x326b50=_0x5d50ab-0x1+0x3*_0x4caf41,_0x2bd1ff=_0x235bd6-0x1+0x3*_0x4caf41;_0x131d8b&=0xff,_0x3e7f48&=0xff,_0x4ae533&=0xff;var _0x9451c7=_0x3d10e1[_0x131d8b+_0xabb549[_0x3e7f48+_0xabb549[_0x4ae533]]],_0x3e6a4c=_0x3d10e1[_0x131d8b+_0x537738+_0xabb549[_0x3e7f48+_0x397c6d+_0xabb549[_0x4ae533+_0x3eac28]]],_0x5cd3ab=_0x3d10e1[_0x131d8b+_0x24e59a+_0xabb549[_0x3e7f48+_0xa57b6f+_0xabb549[_0x4ae533+_0x1b0a5c]]],_0x5a0035=_0x3d10e1[_0x131d8b+0x1+_0xabb549[_0x3e7f48+0x1+_0xabb549[_0x4ae533+0x1]]],_0x546110=0.6-_0xa285e*_0xa285e-_0x5d50ab*_0x5d50ab-_0x235bd6*_0x235bd6;_0x546110<0x0?_0x3786d4=0x0:(_0x546110*=_0x546110,_0x3786d4=_0x546110*_0x546110*_0x9451c7[_0x209409(0x111)](_0xa285e,_0x5d50ab,_0x235bd6));var _0x1567b0=0.6-_0x556405*_0x556405-_0x351e48*_0x351e48-_0x25e673*_0x25e673;_0x1567b0<0x0?_0x946f53=0x0:(_0x1567b0*=_0x1567b0,_0x946f53=_0x1567b0*_0x1567b0*_0x3e6a4c[_0x209409(0x111)](_0x556405,_0x351e48,_0x25e673));var _0x879f70=0.6-_0x154fd3*_0x154fd3-_0x1647d0*_0x1647d0-_0x2afec9*_0x2afec9;_0x879f70<0x0?_0x377132=0x0:(_0x879f70*=_0x879f70,_0x377132=_0x879f70*_0x879f70*_0x5cd3ab[_0x209409(0x111)](_0x154fd3,_0x1647d0,_0x2afec9));var _0x35e903=0.6-_0x37573d*_0x37573d-_0x326b50*_0x326b50-_0x2bd1ff*_0x2bd1ff;return _0x35e903<0x0?_0x573622=0x0:(_0x35e903*=_0x35e903,_0x573622=_0x35e903*_0x35e903*_0x5a0035[_0x209409(0x111)](_0x37573d,_0x326b50,_0x2bd1ff)),0x20*(_0x3786d4+_0x946f53+_0x377132+_0x573622);};function _0x51e4a7(_0x576da6){return _0x576da6*_0x576da6*_0x576da6*(_0x576da6*(_0x576da6*0x6-0xf)+0xa);}function _0x30f0bd(_0x5f47d4,_0x34686d,_0x445e10){return(0x1-_0x445e10)*_0x5f47d4+_0x445e10*_0x34686d;}_0x20f14c[_0x531b71(0xff)]=function(_0x1e977d,_0x4c38b9){var _0x9f62ce=_0x531b71,_0x2ad720=Math['floor'](_0x1e977d),_0xcfd8e6=Math[_0x9f62ce(0x109)](_0x4c38b9);_0x1e977d=_0x1e977d-_0x2ad720,_0x4c38b9=_0x4c38b9-_0xcfd8e6,_0x2ad720=_0x2ad720&0xff,_0xcfd8e6=_0xcfd8e6&0xff;var _0x149284=_0x3d10e1[_0x2ad720+_0xabb549[_0xcfd8e6]][_0x9f62ce(0x10f)](_0x1e977d,_0x4c38b9),_0x3eb5e7=_0x3d10e1[_0x2ad720+_0xabb549[_0xcfd8e6+0x1]][_0x9f62ce(0x10f)](_0x1e977d,_0x4c38b9-0x1),_0x1a6003=_0x3d10e1[_0x2ad720+0x1+_0xabb549[_0xcfd8e6]][_0x9f62ce(0x10f)](_0x1e977d-0x1,_0x4c38b9),_0xe13c1d=_0x3d10e1[_0x2ad720+0x1+_0xabb549[_0xcfd8e6+0x1]][_0x9f62ce(0x10f)](_0x1e977d-0x1,_0x4c38b9-0x1),_0x225b1f=_0x51e4a7(_0x1e977d);return _0x30f0bd(_0x30f0bd(_0x149284,_0x1a6003,_0x225b1f),_0x30f0bd(_0x3eb5e7,_0xe13c1d,_0x225b1f),_0x51e4a7(_0x4c38b9));},_0x20f14c[_0x531b71(0x10b)]=function(_0x398633,_0x102964,_0x218069){var _0x122b3d=_0x531b71,_0x2b86f5=Math[_0x122b3d(0x109)](_0x398633),_0x308095=Math[_0x122b3d(0x109)](_0x102964),_0x531105=Math[_0x122b3d(0x109)](_0x218069);_0x398633=_0x398633-_0x2b86f5,_0x102964=_0x102964-_0x308095,_0x218069=_0x218069-_0x531105,_0x2b86f5=_0x2b86f5&0xff,_0x308095=_0x308095&0xff,_0x531105=_0x531105&0xff;var _0x3d22e2=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+_0xabb549[_0x531105]]][_0x122b3d(0x111)](_0x398633,_0x102964,_0x218069),_0x3abf45=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+_0xabb549[_0x531105+0x1]]][_0x122b3d(0x111)](_0x398633,_0x102964,_0x218069-0x1),_0x5eec97=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105]]]['dot3'](_0x398633,_0x102964-0x1,_0x218069),_0x16aaed=_0x3d10e1[_0x2b86f5+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105+0x1]]]['dot3'](_0x398633,_0x102964-0x1,_0x218069-0x1),_0x4c6676=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+_0xabb549[_0x531105]]][_0x122b3d(0x111)](_0x398633-0x1,_0x102964,_0x218069),_0x332286=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+_0xabb549[_0x531105+0x1]]]['dot3'](_0x398633-0x1,_0x102964,_0x218069-0x1),_0x4d9a0d=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105]]][_0x122b3d(0x111)](_0x398633-0x1,_0x102964-0x1,_0x218069),_0x35a324=_0x3d10e1[_0x2b86f5+0x1+_0xabb549[_0x308095+0x1+_0xabb549[_0x531105+0x1]]][_0x122b3d(0x111)](_0x398633-0x1,_0x102964-0x1,_0x218069-0x1),_0x301f3d=_0x51e4a7(_0x398633),_0x567365=_0x51e4a7(_0x102964),_0x4460f0=_0x51e4a7(_0x218069);return _0x30f0bd(_0x30f0bd(_0x30f0bd(_0x3d22e2,_0x4c6676,_0x301f3d),_0x30f0bd(_0x3abf45,_0x332286,_0x301f3d),_0x4460f0),_0x30f0bd(_0x30f0bd(_0x5eec97,_0x4d9a0d,_0x301f3d),_0x30f0bd(_0x16aaed,_0x35a324,_0x301f3d),_0x4460f0),_0x567365);};}(this));

// astar
var _0x37a3=['indexOf','content','16115ZnOVsS','function','31ReTcTX','visited','amd','weight','scoreFunction','closest','getCost','heuristics','cleanNode','dirtyNodes','bubbleUp','512202pDSUUB','init','astar','7477wuPpDR','exports','2612bFKJQY','pop','parent','sinkDown','51926kjRrhg','Graph','grid','nodes','size','109RLOchU','push','closed','abs','422322fWtTGv','cleanDirty','object','rescoreElement','unshift','sqrt','94469IUwHPy','71UkoTtN','join','manhattan','diagonal','prototype','heuristic','toString','min','markDirty','isWall','length','neighbors'];var _0x4ab7=function(_0x3928b4,_0x510559){_0x3928b4=_0x3928b4-0x9d;var _0x37a38d=_0x37a3[_0x3928b4];return _0x37a38d;};(function(_0x53cd5c,_0x235458){var _0x546b93=_0x4ab7;while(!![]){try{var _0x2a28f0=parseInt(_0x546b93(0xc3))*parseInt(_0x546b93(0xba))+parseInt(_0x546b93(0xa8))*-parseInt(_0x546b93(0xaa))+parseInt(_0x546b93(0xc7))+parseInt(_0x546b93(0xcd))+-parseInt(_0x546b93(0xbe))+parseInt(_0x546b93(0xb8))*parseInt(_0x546b93(0xce))+-parseInt(_0x546b93(0xb5));if(_0x2a28f0===_0x235458)break;else _0x53cd5c['push'](_0x53cd5c['shift']());}catch(_0x3ca907){_0x53cd5c['push'](_0x53cd5c['shift']());}}}(_0x37a3,0x41981),function(_0x311b65){var _0x4564e0=_0x4ab7;if(typeof module===_0x4564e0(0xc9)&&typeof module[_0x4564e0(0xb9)]===_0x4564e0(0xc9))module[_0x4564e0(0xb9)]=_0x311b65();else{if(typeof define===_0x4564e0(0xa9)&&define[_0x4564e0(0xac)])define([],_0x311b65);else{var _0xffc1c=_0x311b65();window[_0x4564e0(0xb7)]=_0xffc1c['astar'],window['Graph']=_0xffc1c[_0x4564e0(0xbf)];}}}(function(){var _0x2ff8e2=_0x4ab7;function _0x42bc97(_0x44f9ab){var _0x1b36b7=_0x4ab7,_0x19581e=_0x44f9ab,_0x2efca2=[];while(_0x19581e['parent']){_0x2efca2[_0x1b36b7(0xcb)](_0x19581e),_0x19581e=_0x19581e[_0x1b36b7(0xbc)];}return _0x2efca2;}function _0x3843db(){return new _0x1006f9(function(_0x54c940){return _0x54c940['f'];});}var _0x40a4cb={'search':function(_0x3875fd,_0xc9dfd9,_0x1c133b,_0x166bfe){var _0x58812d=_0x4ab7;_0x3875fd[_0x58812d(0xc8)](),_0x166bfe=_0x166bfe||{};var _0x139389=_0x166bfe[_0x58812d(0x9f)]||_0x40a4cb[_0x58812d(0xb1)][_0x58812d(0xd0)],_0x4f7727=_0x166bfe[_0x58812d(0xaf)]||![],_0x257577=_0x3843db(),_0x41146f=_0xc9dfd9;_0xc9dfd9['h']=_0x139389(_0xc9dfd9,_0x1c133b),_0x3875fd[_0x58812d(0xa2)](_0xc9dfd9),_0x257577['push'](_0xc9dfd9);while(_0x257577[_0x58812d(0xc2)]()>0x0){var _0x2d68e2=_0x257577[_0x58812d(0xbb)]();if(_0x2d68e2===_0x1c133b)return _0x42bc97(_0x2d68e2);_0x2d68e2['closed']=!![];var _0x1258d9=_0x3875fd['neighbors'](_0x2d68e2);for(var _0x238892=0x0,_0x195f01=_0x1258d9[_0x58812d(0xa4)];_0x238892<_0x195f01;++_0x238892){var _0x3ff1c0=_0x1258d9[_0x238892];if(_0x3ff1c0['closed']||_0x3ff1c0[_0x58812d(0xa3)]())continue;var _0x514372=_0x2d68e2['g']+_0x3ff1c0[_0x58812d(0xb0)](_0x2d68e2),_0x5d3013=_0x3ff1c0[_0x58812d(0xab)];(!_0x5d3013||_0x514372<_0x3ff1c0['g'])&&(_0x3ff1c0[_0x58812d(0xab)]=!![],_0x3ff1c0['parent']=_0x2d68e2,_0x3ff1c0['h']=_0x3ff1c0['h']||_0x139389(_0x3ff1c0,_0x1c133b),_0x3ff1c0['g']=_0x514372,_0x3ff1c0['f']=_0x3ff1c0['g']+_0x3ff1c0['h'],_0x3875fd['markDirty'](_0x3ff1c0),_0x4f7727&&((_0x3ff1c0['h']<_0x41146f['h']||_0x3ff1c0['h']===_0x41146f['h']&&_0x3ff1c0['g']<_0x41146f['g'])&&(_0x41146f=_0x3ff1c0)),!_0x5d3013?_0x257577['push'](_0x3ff1c0):_0x257577[_0x58812d(0xca)](_0x3ff1c0));}}if(_0x4f7727)return _0x42bc97(_0x41146f);return[];},'heuristics':{'manhattan':function(_0x31b954,_0x51fa97){var _0x6c80c4=Math['abs'](_0x51fa97['x']-_0x31b954['x']),_0x1126c8=Math['abs'](_0x51fa97['y']-_0x31b954['y']);return _0x6c80c4+_0x1126c8;},'diagonal':function(_0x21a60d,_0x1ae75e){var _0x55119f=_0x4ab7,_0xa6069c=0x1,_0x468fb8=Math[_0x55119f(0xcc)](0x2),_0x432d10=Math[_0x55119f(0xc6)](_0x1ae75e['x']-_0x21a60d['x']),_0x55fd48=Math[_0x55119f(0xc6)](_0x1ae75e['y']-_0x21a60d['y']);return _0xa6069c*(_0x432d10+_0x55fd48)+(_0x468fb8-0x2*_0xa6069c)*Math[_0x55119f(0xa1)](_0x432d10,_0x55fd48);}},'cleanNode':function(_0x52b58a){var _0x151974=_0x4ab7;_0x52b58a['f']=0x0,_0x52b58a['g']=0x0,_0x52b58a['h']=0x0,_0x52b58a[_0x151974(0xab)]=![],_0x52b58a[_0x151974(0xc5)]=![],_0x52b58a['parent']=null;}};function _0x2288a3(_0x235a53,_0x579fa0){var _0x40e869=_0x4ab7;_0x579fa0=_0x579fa0||{},this[_0x40e869(0xc1)]=[],this[_0x40e869(0x9d)]=!!_0x579fa0[_0x40e869(0x9d)],this[_0x40e869(0xc0)]=[];for(var _0x3ad663=0x0;_0x3ad663<_0x235a53[_0x40e869(0xa4)];_0x3ad663++){this[_0x40e869(0xc0)][_0x3ad663]=[];for(var _0x29cf19=0x0,_0x54739b=_0x235a53[_0x3ad663];_0x29cf19<_0x54739b[_0x40e869(0xa4)];_0x29cf19++){var _0x476577=new _0x5721c6(_0x3ad663,_0x29cf19,_0x54739b[_0x29cf19]);this[_0x40e869(0xc0)][_0x3ad663][_0x29cf19]=_0x476577,this[_0x40e869(0xc1)][_0x40e869(0xc4)](_0x476577);}}this[_0x40e869(0xb6)]();}_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xb6)]=function(){var _0x47d3f8=_0x2ff8e2;this[_0x47d3f8(0xb3)]=[];for(var _0x5dd632=0x0;_0x5dd632<this[_0x47d3f8(0xc1)][_0x47d3f8(0xa4)];_0x5dd632++){_0x40a4cb[_0x47d3f8(0xb2)](this[_0x47d3f8(0xc1)][_0x5dd632]);}},_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xc8)]=function(){var _0x43802c=_0x2ff8e2;for(var _0x119694=0x0;_0x119694<this[_0x43802c(0xb3)]['length'];_0x119694++){_0x40a4cb[_0x43802c(0xb2)](this[_0x43802c(0xb3)][_0x119694]);}this[_0x43802c(0xb3)]=[];},_0x2288a3['prototype']['markDirty']=function(_0x4e49bf){var _0x116801=_0x2ff8e2;this[_0x116801(0xb3)][_0x116801(0xc4)](_0x4e49bf);},_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa5)]=function(_0x35b4b6){var _0x170b20=_0x2ff8e2,_0x51d710=[],_0xaeb7a9=_0x35b4b6['x'],_0x599776=_0x35b4b6['y'],_0x5c65a9=this['grid'];return _0x5c65a9[_0xaeb7a9-0x1]&&_0x5c65a9[_0xaeb7a9-0x1][_0x599776]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9-0x1][_0x599776]),_0x5c65a9[_0xaeb7a9+0x1]&&_0x5c65a9[_0xaeb7a9+0x1][_0x599776]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9+0x1][_0x599776]),_0x5c65a9[_0xaeb7a9]&&_0x5c65a9[_0xaeb7a9][_0x599776-0x1]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9][_0x599776-0x1]),_0x5c65a9[_0xaeb7a9]&&_0x5c65a9[_0xaeb7a9][_0x599776+0x1]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9][_0x599776+0x1]),this['diagonal']&&(_0x5c65a9[_0xaeb7a9-0x1]&&_0x5c65a9[_0xaeb7a9-0x1][_0x599776-0x1]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9-0x1][_0x599776-0x1]),_0x5c65a9[_0xaeb7a9+0x1]&&_0x5c65a9[_0xaeb7a9+0x1][_0x599776-0x1]&&_0x51d710['push'](_0x5c65a9[_0xaeb7a9+0x1][_0x599776-0x1]),_0x5c65a9[_0xaeb7a9-0x1]&&_0x5c65a9[_0xaeb7a9-0x1][_0x599776+0x1]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9-0x1][_0x599776+0x1]),_0x5c65a9[_0xaeb7a9+0x1]&&_0x5c65a9[_0xaeb7a9+0x1][_0x599776+0x1]&&_0x51d710[_0x170b20(0xc4)](_0x5c65a9[_0xaeb7a9+0x1][_0x599776+0x1])),_0x51d710;},_0x2288a3[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa0)]=function(){var _0x42fafd=_0x2ff8e2,_0x4322ed=[],_0x585407=this[_0x42fafd(0xc0)];for(var _0x542f3c=0x0;_0x542f3c<_0x585407[_0x42fafd(0xa4)];_0x542f3c++){var _0x559544=[],_0x1cc240=_0x585407[_0x542f3c];for(var _0x11be5f=0x0;_0x11be5f<_0x1cc240[_0x42fafd(0xa4)];_0x11be5f++){_0x559544['push'](_0x1cc240[_0x11be5f][_0x42fafd(0xad)]);}_0x4322ed[_0x42fafd(0xc4)](_0x559544[_0x42fafd(0xcf)]('\x20'));}return _0x4322ed[_0x42fafd(0xcf)]('\x0a');};function _0x5721c6(_0x1fac97,_0x221d74,_0x336f8b){var _0x2496ba=_0x2ff8e2;this['x']=_0x1fac97,this['y']=_0x221d74,this[_0x2496ba(0xad)]=_0x336f8b;}_0x5721c6[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa0)]=function(){return'['+this['x']+'\x20'+this['y']+']';},_0x5721c6[_0x2ff8e2(0x9e)][_0x2ff8e2(0xb0)]=function(_0x52404b){var _0x357066=_0x2ff8e2;if(_0x52404b&&_0x52404b['x']!=this['x']&&_0x52404b['y']!=this['y'])return this[_0x357066(0xad)]*1.41421;return this[_0x357066(0xad)];},_0x5721c6[_0x2ff8e2(0x9e)][_0x2ff8e2(0xa3)]=function(){var _0xbb30b9=_0x2ff8e2;return this[_0xbb30b9(0xad)]===0x0;};function _0x1006f9(_0x15ab9d){var _0x31ff0c=_0x2ff8e2;this[_0x31ff0c(0xa7)]=[],this[_0x31ff0c(0xae)]=_0x15ab9d;}return _0x1006f9[_0x2ff8e2(0x9e)]={'push':function(_0x1afcba){var _0x53b585=_0x2ff8e2;this[_0x53b585(0xa7)][_0x53b585(0xc4)](_0x1afcba),this[_0x53b585(0xbd)](this['content'][_0x53b585(0xa4)]-0x1);},'pop':function(){var _0x3b1760=_0x2ff8e2,_0x297aff=this['content'][0x0],_0x94c4d0=this['content']['pop']();return this['content'][_0x3b1760(0xa4)]>0x0&&(this[_0x3b1760(0xa7)][0x0]=_0x94c4d0,this[_0x3b1760(0xb4)](0x0)),_0x297aff;},'remove':function(_0x48bbd0){var _0x594865=_0x2ff8e2,_0x5b0815=this[_0x594865(0xa7)][_0x594865(0xa6)](_0x48bbd0),_0x17a4ec=this[_0x594865(0xa7)][_0x594865(0xbb)]();_0x5b0815!==this[_0x594865(0xa7)]['length']-0x1&&(this[_0x594865(0xa7)][_0x5b0815]=_0x17a4ec,this[_0x594865(0xae)](_0x17a4ec)<this[_0x594865(0xae)](_0x48bbd0)?this['sinkDown'](_0x5b0815):this[_0x594865(0xb4)](_0x5b0815));},'size':function(){var _0x690517=_0x2ff8e2;return this[_0x690517(0xa7)][_0x690517(0xa4)];},'rescoreElement':function(_0x329554){var _0x48ee1d=_0x2ff8e2;this[_0x48ee1d(0xbd)](this['content'][_0x48ee1d(0xa6)](_0x329554));},'sinkDown':function(_0x18aae4){var _0xc6206=_0x2ff8e2,_0x214d28=this[_0xc6206(0xa7)][_0x18aae4];while(_0x18aae4>0x0){var _0x1ea6fb=(_0x18aae4+0x1>>0x1)-0x1,_0x441f51=this[_0xc6206(0xa7)][_0x1ea6fb];if(this[_0xc6206(0xae)](_0x214d28)<this['scoreFunction'](_0x441f51))this['content'][_0x1ea6fb]=_0x214d28,this[_0xc6206(0xa7)][_0x18aae4]=_0x441f51,_0x18aae4=_0x1ea6fb;else break;}},'bubbleUp':function(_0x2a4218){var _0x412eda=_0x2ff8e2,_0x10729f=this['content'][_0x412eda(0xa4)],_0x3456b4=this['content'][_0x2a4218],_0x104190=this[_0x412eda(0xae)](_0x3456b4);while(!![]){var _0x27dc95=_0x2a4218+0x1<<0x1,_0x3336e5=_0x27dc95-0x1,_0x1bcce0=null,_0x53dbdc;if(_0x3336e5<_0x10729f){var _0x451d60=this[_0x412eda(0xa7)][_0x3336e5];_0x53dbdc=this['scoreFunction'](_0x451d60),_0x53dbdc<_0x104190&&(_0x1bcce0=_0x3336e5);}if(_0x27dc95<_0x10729f){var _0x10a73a=this['content'][_0x27dc95],_0x2506c3=this['scoreFunction'](_0x10a73a);_0x2506c3<(_0x1bcce0===null?_0x104190:_0x53dbdc)&&(_0x1bcce0=_0x27dc95);}if(_0x1bcce0!==null)this[_0x412eda(0xa7)][_0x2a4218]=this[_0x412eda(0xa7)][_0x1bcce0],this[_0x412eda(0xa7)][_0x1bcce0]=_0x3456b4,_0x2a4218=_0x1bcce0;else break;}}},{'astar':_0x40a4cb,'Graph':_0x2288a3};}));

// MK
const _0x1348e7=_0x6ff2;(function(_0x358983,_0x4ccdc1){const _0x354dec=_0x6ff2,_0x35093b=_0x358983();while(!![]){try{const _0x4b8675=-parseInt(_0x354dec(0x21d))/0x1+-parseInt(_0x354dec(0x1de))/0x2+parseInt(_0x354dec(0x1f5))/0x3*(-parseInt(_0x354dec(0x1f0))/0x4)+-parseInt(_0x354dec(0x1f4))/0x5+-parseInt(_0x354dec(0x251))/0x6+-parseInt(_0x354dec(0x254))/0x7*(-parseInt(_0x354dec(0x1fd))/0x8)+parseInt(_0x354dec(0x26c))/0x9*(parseInt(_0x354dec(0x1d4))/0xa);if(_0x4b8675===_0x4ccdc1)break;else _0x35093b['push'](_0x35093b['shift']());}catch(_0x184190){_0x35093b['push'](_0x35093b['shift']());}}}(_0x5c2f,0x451b4),MK[_0x1348e7(0x21e)]=function({w:_0x5fea9,h:_0xba3a89,scale:scale=0x14,f:f=MK[_0x1348e7(0x230)]}){const _0x171e21=_0x1348e7;MK['requireNonNull'](_0x5fea9,_0x171e21(0x268),'w'),MK['requireNonNull'](_0xba3a89,_0x171e21(0x268),'h'),noise['seed'](MK[_0x171e21(0x1e9)][_0x171e21(0x244)](0x0,0x2710));const _0x490c29=MK[_0x171e21(0x239)](_0x5fea9,_0xba3a89);for(let _0x48aa4a=0x0;_0x48aa4a<_0x5fea9;_0x48aa4a++){for(let _0x5d6b0e=0x0;_0x5d6b0e<_0xba3a89;_0x5d6b0e++){_0x490c29[_0x48aa4a][_0x5d6b0e]=f[_0x171e21(0x1d0)](this,_0x48aa4a,_0x5d6b0e,scale);}}return _0x490c29;},MK['noiseFunction']=function(_0x4a14b8,_0x389cf5,_0x453b83){const _0x458991=_0x1348e7;return(noise[_0x458991(0x23f)](_0x4a14b8/_0x453b83,_0x389cf5/_0x453b83)+0x1)*0.5;},MK['toBinaryMap']=function(_0x5ddce9,_0x5da064){const _0x31db80=_0x1348e7;MK[_0x31db80(0x212)](_0x5ddce9,'MK.toBinaryMap',_0x31db80(0x1fc)),MK['requireNonNull'](_0x5da064,'MK.toBinaryMap','minValue');const _0x5012a3=_0x5ddce9[_0x31db80(0x1cd)],_0x2c40cd=_0x5ddce9[0x0]['length'],_0x578c84=MK[_0x31db80(0x239)](_0x5012a3,_0x2c40cd);for(let _0x21eaa4=0x0;_0x21eaa4<_0x5012a3;_0x21eaa4++){for(let _0x295934=0x0;_0x295934<_0x2c40cd;_0x295934++){_0x578c84[_0x21eaa4][_0x295934]=_0x5ddce9[_0x21eaa4][_0x295934]>=_0x5da064;}}return _0x578c84;},MK['applySmoothBorder']=function(_0x1eafa2,_0x320bde=0x5){const _0x564488=_0x1348e7;MK[_0x564488(0x212)](_0x1eafa2,_0x564488(0x1c4),_0x564488(0x1fc));const _0xa38055=_0x1eafa2[_0x564488(0x1cd)],_0x4099e0=_0x1eafa2[0x0]['length'];for(let _0x35b1e3=0x0;_0x35b1e3<_0xa38055;_0x35b1e3++){for(let _0x487585=0x0;_0x487585<_0x4099e0;_0x487585++){const _0x270529=Math[_0x564488(0x22b)](_0x35b1e3,_0x487585,_0xa38055-_0x35b1e3-0x1,_0x4099e0-_0x487585-0x1),_0x36e244=Math[_0x564488(0x22b)](_0x270529/_0x320bde,0x1);_0x1eafa2[_0x35b1e3][_0x487585]*=_0x36e244;}}},MK[_0x1348e7(0x203)]=function(_0x42ed35){const _0x7c86d1=_0x1348e7;if(!_0x42ed35||!_0x42ed35['length'])throw Error('MK.average:\x20numbers\x20is\x20null\x20or\x20empty!');return Math['floor'](_0x42ed35[_0x7c86d1(0x23c)]((_0x283a39,_0x1b8d82)=>_0x283a39+_0x1b8d82)/_0x42ed35[_0x7c86d1(0x1cd)]);},MK['getCenter']=function(_0x148d30){const _0x1e9e35=_0x1348e7,_0x2e94fd=MK['average'](_0x148d30[_0x1e9e35(0x221)](_0x602181=>_0x602181['x'])),_0xc0fcfe=MK[_0x1e9e35(0x203)](_0x148d30[_0x1e9e35(0x221)](_0x21b6e1=>_0x21b6e1['y']));return{'x':_0x2e94fd,'y':_0xc0fcfe};},MK['euclidianDistance']=function(_0xeb9ad2,_0x6e6695){const _0x4f24b3=_0x1348e7;return Math['sqrt'](Math['abs'](_0x6e6695['x']-_0xeb9ad2['x'])**0x2+Math[_0x4f24b3(0x25a)](_0x6e6695['y']-_0xeb9ad2['y'])**0x2);},MK['kruskalMST']=function(_0x38fa4e,_0x168cdb=MK['euclidianDistance']){const _0x1d7f49=_0x1348e7;if(_0x38fa4e[_0x1d7f49(0x1cd)]==0x1)return[];const _0x2d697f=[],_0x27ca39=[],_0x40059d=[];for(let _0x4498ee=0x0;_0x4498ee<_0x38fa4e[_0x1d7f49(0x1cd)];_0x4498ee++){for(let _0x37e73f=0x0;_0x37e73f<_0x38fa4e[_0x1d7f49(0x1cd)];_0x37e73f++){if(_0x4498ee==_0x37e73f)continue;_0x2d697f[_0x1d7f49(0x215)]({'start':_0x38fa4e[_0x4498ee],'dest':_0x38fa4e[_0x37e73f],'weight':_0x168cdb[_0x1d7f49(0x1d0)](this,_0x38fa4e[_0x4498ee],_0x38fa4e[_0x37e73f])});}}_0x2d697f[_0x1d7f49(0x225)]((_0x419e3f,_0x4113e5)=>_0x419e3f[_0x1d7f49(0x258)]-_0x4113e5['weight']);function _0x97ffeb(_0x4a433b){const _0x547491=_0x1d7f49;return _0x40059d['findIndex'](_0x25200f=>_0x25200f[_0x547491(0x20c)](_0x4a433b[_0x547491(0x22d)])&&_0x25200f['contains'](_0x4a433b[_0x547491(0x231)]))!=-0x1;}function _0x1687c7(_0x17c06e){const _0x43b95c=_0x1d7f49;for(let _0x1eb512=0x0;_0x1eb512<_0x40059d['length'];_0x1eb512++){let _0x325411=_0x40059d[_0x1eb512];if(_0x325411[_0x43b95c(0x20c)](_0x17c06e[_0x43b95c(0x22d)])){_0x325411['push'](_0x17c06e[_0x43b95c(0x231)]);for(let _0x3e7b62=0x0;_0x3e7b62<_0x40059d['length'];_0x3e7b62++){if(_0x1eb512==_0x3e7b62)continue;let _0x54f3b3=_0x40059d[_0x3e7b62];if(_0x54f3b3[_0x43b95c(0x20c)](_0x17c06e[_0x43b95c(0x231)])){_0x54f3b3[_0x43b95c(0x1bd)](_0x4f7bd3=>_0x325411[_0x43b95c(0x215)](_0x4f7bd3)),_0x40059d[_0x43b95c(0x1d7)](_0x3e7b62,0x1);return;}}return;}else{if(_0x325411[_0x43b95c(0x20c)](_0x17c06e['dest'])){_0x325411[_0x43b95c(0x215)](_0x17c06e['start']);for(let _0x2dfa05=0x0;_0x2dfa05<_0x40059d[_0x43b95c(0x1cd)];_0x2dfa05++){if(_0x1eb512==_0x2dfa05)continue;let _0x57f04c=_0x40059d[_0x2dfa05];if(_0x57f04c[_0x43b95c(0x20c)](_0x17c06e[_0x43b95c(0x22d)])){_0x57f04c[_0x43b95c(0x1bd)](_0x1b9df8=>_0x325411[_0x43b95c(0x215)](_0x1b9df8)),_0x40059d[_0x43b95c(0x1d7)](_0x2dfa05,0x1);return;}}return;}}}_0x40059d[_0x43b95c(0x215)]([_0x17c06e['start'],_0x17c06e['dest']]);}for(let _0x197613=0x0;_0x197613<_0x2d697f[_0x1d7f49(0x1cd)];_0x197613++){const _0x2307bb=_0x2d697f[_0x197613];!_0x97ffeb(_0x2307bb)&&(_0x27ca39[_0x1d7f49(0x215)](_0x2307bb),_0x1687c7(_0x2307bb));if(_0x27ca39[_0x1d7f49(0x1cd)]==_0x38fa4e[_0x1d7f49(0x1cd)]-0x1)break;}return _0x27ca39;},MK[_0x1348e7(0x242)]=function(_0x2dba1f){const _0xef5535=_0x1348e7;if(_0x2dba1f['length']==0x1)return[];let _0x45b022=MK[_0xef5535(0x1e9)]['randomInteger'](0x0,_0x2dba1f[_0xef5535(0x1cd)]-0x1),_0x550e25=_0x2dba1f[MK[_0xef5535(0x1e9)][_0xef5535(0x244)](0x0,_0x2dba1f['length']-0x1)];_0x2dba1f[_0xef5535(0x1d7)](_0x45b022,0x1);const _0x5a322b=[_0x550e25],_0x17a0b6=[];while(_0x2dba1f['length']){const _0x5c8a83=_0x5a322b[MK[_0xef5535(0x1e9)][_0xef5535(0x244)](0x0,_0x5a322b['length']-0x1)];_0x45b022=MK[_0xef5535(0x1e9)]['randomInteger'](0x0,_0x2dba1f[_0xef5535(0x1cd)]-0x1);const _0x478b9a=_0x2dba1f[_0x45b022];_0x2dba1f[_0xef5535(0x1d7)](_0x45b022,0x1),_0x17a0b6[_0xef5535(0x215)]({'start':_0x5c8a83,'dest':_0x478b9a}),_0x5a322b[_0xef5535(0x215)](_0x478b9a);}return _0x17a0b6;},MK[_0x1348e7(0x1d3)]=function(_0x43f370,_0x20bb75,_0x2dd46d){const _0x37a4e0=_0x1348e7,_0x4287c7=[],_0x5518b7=MK[_0x37a4e0(0x239)](_0x43f370,_0x20bb75);for(let _0x32df08=0x0;_0x32df08<_0x43f370;_0x32df08++){for(let _0x90d999=0x0;_0x90d999<_0x20bb75;_0x90d999++){const _0x53280f=MK['scan'](_0x32df08,_0x90d999,_0x5518b7,_0x2dd46d);if(_0x53280f['length']>0x0)_0x4287c7[_0x37a4e0(0x215)](_0x53280f);}}return _0x4287c7;},MK[_0x1348e7(0x22a)]=function(_0x44ff14,_0x1f9231,_0x1eae94,_0xa12984){const _0x476d6d=_0x1348e7,_0x1800d2=[],_0x12a4e4=[];function _0x22cf8f(_0x1a1a69,_0x16f8bb){const _0x51aee3=_0x6ff2;return MK[_0x51aee3(0x232)](_0x1a1a69,_0x16f8bb,_0x1eae94)&&!_0x1eae94[_0x1a1a69][_0x16f8bb]&&_0xa12984[_0x51aee3(0x1d0)](this,_0x1a1a69,_0x16f8bb);}if(_0x22cf8f(_0x44ff14,_0x1f9231))_0x1800d2[_0x476d6d(0x215)]({'x':_0x44ff14,'y':_0x1f9231});else _0x1eae94[_0x44ff14][_0x1f9231]=!![];while(_0x1800d2[_0x476d6d(0x1cd)]>0x0){const _0x5ec625=_0x1800d2['pop']();_0x12a4e4[_0x476d6d(0x215)](_0x5ec625),_0x1eae94[_0x5ec625['x']][_0x5ec625['y']]=!![];if(_0x22cf8f(_0x5ec625['x']-0x1,_0x5ec625['y']))_0x1800d2[_0x476d6d(0x215)]({'x':_0x5ec625['x']-0x1,'y':_0x5ec625['y']});if(_0x22cf8f(_0x5ec625['x'],_0x5ec625['y']-0x1))_0x1800d2[_0x476d6d(0x215)]({'x':_0x5ec625['x'],'y':_0x5ec625['y']-0x1});if(_0x22cf8f(_0x5ec625['x']+0x1,_0x5ec625['y']))_0x1800d2[_0x476d6d(0x215)]({'x':_0x5ec625['x']+0x1,'y':_0x5ec625['y']});if(_0x22cf8f(_0x5ec625['x'],_0x5ec625['y']+0x1))_0x1800d2[_0x476d6d(0x215)]({'x':_0x5ec625['x'],'y':_0x5ec625['y']+0x1});}return _0x12a4e4;},MK[_0x1348e7(0x24d)]=function({w:_0x25723a,h:_0x4816b7,start:_0x14590b,end:_0x30861b,weightFunction:_0xafc35d,penalizeBorder:penalizeBorder=0x5}){const _0x4d056e=_0x1348e7;_0x25723a=_0x25723a||$dataMap[_0x4d056e(0x1e4)],_0x4816b7=_0x4816b7||$dataMap['height'],MK[_0x4d056e(0x212)](_0x14590b,_0x4d056e(0x201),_0x4d056e(0x22d)),MK[_0x4d056e(0x212)](_0x30861b,_0x4d056e(0x201),_0x4d056e(0x1c6)),MK[_0x4d056e(0x212)](_0xafc35d,_0x4d056e(0x201),_0x4d056e(0x262));const _0x403652=MK[_0x4d056e(0x239)](_0x25723a,_0x4816b7);for(let _0x1ed976=0x0;_0x1ed976<_0x25723a;_0x1ed976++){for(let _0x3a2072=0x0;_0x3a2072<_0x4816b7;_0x3a2072++){let _0x7f3732=_0xafc35d[_0x4d056e(0x1d0)](this,_0x1ed976,_0x3a2072);_0x7f3732=Math['max'](_0x7f3732,0.001);if(penalizeBorder&&(_0x1ed976<penalizeBorder||_0x25723a-_0x1ed976<penalizeBorder||_0x3a2072<penalizeBorder||_0x4816b7-_0x3a2072<penalizeBorder))_0x7f3732*=0x64;_0x403652[_0x1ed976][_0x3a2072]=_0x7f3732;}}const _0x1a64c8=new Graph(_0x403652),_0x3db244=_0x1a64c8[_0x4d056e(0x1ff)][_0x14590b['x']][_0x14590b['y']],_0x4aa14b=_0x1a64c8['grid'][_0x30861b['x']][_0x30861b['y']];return[_0x14590b][_0x4d056e(0x217)](astar[_0x4d056e(0x21c)](_0x1a64c8,_0x3db244,_0x4aa14b))['concat'](_0x30861b);},MK[_0x1348e7(0x1f9)]=function({path:_0x2bf155,thickness:thickness=0x3,mode:mode=_0x1348e7(0x206)}){const _0x101e6d=_0x1348e7;MK[_0x101e6d(0x212)](_0x2bf155,_0x101e6d(0x1f9),_0x101e6d(0x250));const _0x26544d=$dataMap[_0x101e6d(0x1e4)],_0x5316b7=$dataMap['height'];mode=mode['toLowerCase']();const _0x3b405f=[],_0x920c88={};MK[_0x101e6d(0x20a)](thickness,[0x1,0x2,0x3,0x4,0x5],'makePathBigger',_0x101e6d(0x234));if(thickness==0x1)return _0x2bf155;function _0x2c52ea(_0x4c0b24){const _0x52fd8f=''+_0x4c0b24['x']+'-'+_0x4c0b24['y'];!_0x920c88[_0x52fd8f]&&(_0x3b405f['push'](_0x4c0b24),_0x920c88[_0x52fd8f]=!![]);}for(let _0x52d962 of _0x2bf155){_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']}),mode==_0x101e6d(0x206)?(thickness>=0x2&&(_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']+0x1})),thickness>=0x3&&(_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']-0x1})),thickness>=0x4&&(_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']+0x1}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']+0x2}),_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']-0x1}),_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']+0x1}),_0x2c52ea({'x':_0x52d962['x']+0x2,'y':_0x52d962['y']})),thickness>=0x5&&(_0x2c52ea({'x':_0x52d962['x']-0x2,'y':_0x52d962['y']}),_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']-0x1}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']-0x2}))):(thickness>=0x2&&(_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']+0x1}),_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']+0x1})),thickness>=0x3&&(_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']-0x1}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']-0x1}),_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']-0x1}),_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']}),_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']+0x1})),thickness>=0x4&&(_0x2c52ea({'x':_0x52d962['x']+0x2,'y':_0x52d962['y']-0x1}),_0x2c52ea({'x':_0x52d962['x']+0x2,'y':_0x52d962['y']}),_0x2c52ea({'x':_0x52d962['x']+0x2,'y':_0x52d962['y']+0x1}),_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']+0x2}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']+0x2}),_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']+0x2}),_0x2c52ea({'x':_0x52d962['x']+0x2,'y':_0x52d962['y']+0x2})),thickness>=0x5&&(_0x2c52ea({'x':_0x52d962['x']-0x2,'y':_0x52d962['y']-0x2}),_0x2c52ea({'x':_0x52d962['x']-0x1,'y':_0x52d962['y']-0x2}),_0x2c52ea({'x':_0x52d962['x'],'y':_0x52d962['y']-0x2}),_0x2c52ea({'x':_0x52d962['x']+0x1,'y':_0x52d962['y']-0x2}),_0x2c52ea({'x':_0x52d962['x']+0x2,'y':_0x52d962['y']-0x2}),_0x2c52ea({'x':_0x52d962['x']-0x2,'y':_0x52d962['y']-0x1}),_0x2c52ea({'x':_0x52d962['x']-0x2,'y':_0x52d962['y']}),_0x2c52ea({'x':_0x52d962['x']-0x2,'y':_0x52d962['y']+0x1}),_0x2c52ea({'x':_0x52d962['x']-0x2,'y':_0x52d962['y']+0x2})));}return _0x3b405f[_0x101e6d(0x1cb)](_0x18e4cf=>0x0<=_0x18e4cf['x']&&_0x18e4cf['x']<_0x26544d&&0x0<=_0x18e4cf['y']&&_0x18e4cf['y']<_0x5316b7);},MK[_0x1348e7(0x21b)]=function(_0x538595){return!![];},MK[_0x1348e7(0x260)]=function(_0x42bff3){return MK['getTileStack'](0x0,_0x42bff3,MK['getMapFromDisk']());},MK[_0x1348e7(0x220)]=function(_0x50021e='structures'){const _0xbba62b=_0x1348e7,_0x11bcb2=MK[_0xbba62b(0x265)](_0x50021e),_0x3c4499=_0x11bcb2['width'],_0x327e3a=_0x11bcb2[_0xbba62b(0x248)],_0x5a6212={};function _0x4c4102(_0x41b2e7,_0x495ce4){const _0x514a4f=_0xbba62b;var _0x3a4fc7=0x0,_0x53f03b=_0x495ce4;for(;MK[_0x514a4f(0x205)](_0x3a4fc7,_0x53f03b,_0x11bcb2)==_0x41b2e7;_0x3a4fc7++){}_0x3a4fc7-=0x1;for(;MK['regionId'](_0x3a4fc7,_0x53f03b,_0x11bcb2)==_0x41b2e7;_0x53f03b++){}return{'w':_0x3a4fc7+0x1,'h':_0x53f03b-_0x495ce4};}function _0x4cd14e(_0x513e1c,_0x2a7fe0,_0x3770c3,_0x2eb270,_0x233f16){const _0x41ae75=_0xbba62b;if(_0x233f16)for(let _0x1398a2=0x0;_0x1398a2<_0x3c4499;_0x1398a2++){if(MK['regionId'](_0x1398a2+_0x513e1c,_0x2a7fe0,_0x11bcb2)==MK['DECORATION_STOPPER_ID'])return Math[_0x41ae75(0x208)](_0x1398a2/_0x3770c3);}for(let _0x592d6a=0x0;(_0x592d6a+0x1)*_0x3770c3-0x1<_0x3c4499;_0x592d6a++){if(MK[_0x41ae75(0x243)](_0x592d6a*_0x3770c3+_0x513e1c,_0x2a7fe0,_0x3770c3,_0x2eb270,_0x11bcb2))return _0x592d6a;}return 0x1;}function _0x522ce7(_0x3ff68c,_0x2cb3f6,_0x3087a8){return _0x4cd14e(_0x2cb3f6,_0x3ff68c,_0x2cb3f6,_0x3087a8,![]);}function _0x18370b(_0x56952c,_0x2220e5,_0x25cdfb,_0x4d8331){return _0x4cd14e(_0x56952c,_0x2220e5,_0x25cdfb,_0x4d8331,!![]);}for(let _0x37e75c=0x0;_0x37e75c<_0x327e3a;_0x37e75c++){const _0x2d4e6d=MK[_0xbba62b(0x205)](0x0,_0x37e75c,_0x11bcb2);if(!_0x2d4e6d||_0x5a6212[_0x2d4e6d])continue;const _0x5ca2ff=_0x4c4102(_0x2d4e6d,_0x37e75c),_0x2576cd=_0x522ce7(_0x37e75c,_0x5ca2ff['w'],_0x5ca2ff['h']),_0x54523e=_0x18370b((_0x2576cd+0x2)*_0x5ca2ff['w'],_0x37e75c,_0x5ca2ff['w'],_0x5ca2ff['h']),_0x299d71={};_0x299d71[_0xbba62b(0x205)]=_0x2d4e6d,_0x299d71['x']=(_0x2576cd+0x2)*_0x5ca2ff['w'],_0x299d71['y']=_0x37e75c,_0x299d71['w']=_0x5ca2ff['w'],_0x299d71['h']=_0x5ca2ff['h'],_0x299d71['n']=_0x54523e,_0x299d71[_0xbba62b(0x20d)]={},_0x299d71['matchers']['x']=_0x299d71['w'],_0x299d71['matchers']['y']=_0x37e75c,_0x299d71[_0xbba62b(0x20d)]['w']=_0x5ca2ff['w'],_0x299d71[_0xbba62b(0x20d)]['h']=_0x5ca2ff['h'],_0x299d71[_0xbba62b(0x20d)]['n']=_0x2576cd,_0x5a6212[_0x2d4e6d]=_0x299d71;}return _0x5a6212;},MK['getMatchersAndReplacementsFromShadingMap']=function(_0x1f8153=_0x1348e7(0x240)){const _0x5da382=_0x1348e7,_0x51a867=MK[_0x5da382(0x265)](_0x1f8153),_0x5881d4=[];for(let _0x13edab=0x0;_0x13edab<_0x51a867[_0x5da382(0x248)]&&!MK[_0x5da382(0x202)](0x0,_0x13edab,_0x51a867);_0x13edab++){const _0x4a6dc3={'matchers':[],'replacement':undefined};let _0x3d256c=0x0;for(;_0x3d256c<_0x51a867[_0x5da382(0x1e4)]&&!MK[_0x5da382(0x202)](_0x3d256c,_0x13edab,_0x51a867);_0x3d256c++){_0x4a6dc3[_0x5da382(0x20d)]['push'](MK['getTileStack'](_0x3d256c,_0x13edab,_0x51a867));}_0x3d256c++,_0x4a6dc3[_0x5da382(0x216)]=MK[_0x5da382(0x1e5)](_0x3d256c,_0x13edab,_0x51a867),_0x5881d4['push'](_0x4a6dc3);}return _0x5881d4;},MK[_0x1348e7(0x21a)]=function(_0x48dff9=_0x1348e7(0x1e7)){const _0x4cf7ef=_0x1348e7,_0x3d3c09=MK[_0x4cf7ef(0x265)](_0x48dff9),_0x2a57b4=[];for(let _0x1fa783=0x0;_0x1fa783<_0x3d3c09[_0x4cf7ef(0x1e4)]&&!MK['isCellEmpty'](_0x1fa783,0x0,_0x3d3c09);_0x1fa783++){_0x2a57b4[_0x4cf7ef(0x215)](MK[_0x4cf7ef(0x1e5)](_0x1fa783,0x0,_0x3d3c09));}return _0x2a57b4;},MK['getReplacementsFromBiomeMap']=function(_0xb1d825=_0x1348e7(0x1e7)){const _0x15daaa=_0x1348e7,_0xd7a71e=MK[_0x15daaa(0x265)](_0xb1d825),_0x36bfb0=[];let _0x2f3bbe=0x0;for(;_0x2f3bbe<!MK[_0x15daaa(0x202)](_0x2f3bbe,0x0,_0xd7a71e);_0x2f3bbe++){}_0x2f3bbe++;for(;_0x2f3bbe<_0xd7a71e[_0x15daaa(0x1e4)]&&!MK[_0x15daaa(0x202)](_0x2f3bbe,0x0,_0xd7a71e);_0x2f3bbe++){_0x36bfb0[_0x15daaa(0x215)](MK[_0x15daaa(0x1e5)](_0x2f3bbe,0x0,_0xd7a71e));}return _0x36bfb0;},MK[_0x1348e7(0x255)]=function(_0x2cdd35,_0x25addf,_0x2d80fe,_0x6c95a8){const _0xb93f50=_0x1348e7,_0x2e6ded=MK[_0xb93f50(0x1e5)](_0x2cdd35,_0x25addf,_0x2d80fe);for(let _0x5de734 of MK[_0xb93f50(0x1d5)](_0x6c95a8)){if(_0x5de734[_0xb93f50(0x20d)][_0xb93f50(0x264)](_0x40d8c1=>MK['equalTileStacks'](_0x40d8c1,_0x2e6ded))){MK[_0xb93f50(0x266)](_0x2cdd35,_0x25addf,_0x2d80fe,_0x5de734[_0xb93f50(0x216)]);break;}}},MK[_0x1348e7(0x1d1)]=function(_0x2081f6,_0x126140,_0x456f99,_0x89856f,_0x215c41){const _0x147198=_0x1348e7;for(let _0x3ebf74=0x0;_0x3ebf74<_0x89856f['n'];_0x3ebf74++){const _0x38d953=_0x3ebf74*_0x89856f['w']+_0x89856f['x'];if(MK[_0x147198(0x1d9)](_0x2081f6,_0x126140,_0x456f99,_0x38d953,_0x89856f['y'],_0x89856f['w'],_0x89856f['h'],_0x215c41))return!![];}return![];},MK[_0x1348e7(0x1d9)]=function(_0x2c0dfc,_0x178713,_0x37454b,_0x51fd3a,_0x345318,_0x146811,_0x5206ff,_0xee96d9){const _0x1ba78c=_0x1348e7;for(let _0x4725ed=0x0;_0x4725ed<_0x146811;_0x4725ed++){for(let _0x590d1e=0x0;_0x590d1e<_0x5206ff;_0x590d1e++){const _0x400f41=MK['getTileStack'](_0x2c0dfc+_0x4725ed,_0x178713+_0x590d1e,_0x37454b),_0x5889ce=MK[_0x1ba78c(0x1e5)](_0x51fd3a+_0x4725ed,_0x345318+_0x590d1e,MK['getAdditionalMap'](_0xee96d9)),_0x49824c=MK['equalTileStacks'](_0x400f41,_0x5889ce),_0x36ce92=MK[_0x1ba78c(0x26d)](_0x5889ce),_0x552c74=_0x5889ce[0x0]==0x0&&_0x5889ce[0x1]==0x0&&_0x5889ce[0x2]==0x0&&_0x5889ce[0x3]==0x0&&_0x5889ce[0x5]!=0x0&&_0x400f41[0x5]==_0x5889ce[0x5],_0x2ed154=_0x49824c||_0x36ce92||_0x552c74;if(!_0x2ed154)return![];}}return!MK[_0x1ba78c(0x249)](_0x2c0dfc,_0x178713,_0x146811,_0x5206ff,_0x37454b);},MK['areaCompletelyOnMap']=function(_0x1732e2,_0x1a32ed,_0x3c054c,_0x5238a3,_0x5c20f9){for(let _0x26581d=_0x1732e2;_0x26581d<_0x1732e2+_0x3c054c;_0x26581d++){for(let _0x4c6b56=_0x1a32ed;_0x4c6b56<_0x1a32ed+_0x5238a3;_0x4c6b56++){if(!_0x5c20f9[_0x26581d]||!_0x5c20f9[_0x26581d][_0x4c6b56])return![];}}return!![];},MK[_0x1348e7(0x1ea)]=function(_0xb8baa6,_0x7de3b2,_0x509475,_0x15abb0,_0xd25c6a){for(let _0x222558=_0xb8baa6;_0x222558<_0xb8baa6+_0x509475;_0x222558++){for(let _0x2451b3=_0x7de3b2;_0x2451b3<_0x7de3b2+_0x15abb0;_0x2451b3++){if(_0xd25c6a[_0x222558]&&_0xd25c6a[_0x222558][_0x2451b3])return!![];}}return![];},MK[_0x1348e7(0x200)]=function(_0x36cc4e,_0x2de3e6,_0x16dd4b,_0x5ebaeb,_0x46607b){return!MK['areaPartiallyOnMap'](_0x36cc4e,_0x2de3e6,_0x16dd4b,_0x5ebaeb,_0x46607b);});class MapGenerator extends AbstractMapGenerator{constructor(){super();}[_0x1348e7(0x1e6)](){const _0x45eed4=_0x1348e7;super[_0x45eed4(0x1e6)](),this[_0x45eed4(0x256)]=MK['createMatrix']($dataMap[_0x45eed4(0x1e4)],$dataMap[_0x45eed4(0x248)]),this['hiddenMap']=MK[_0x45eed4(0x239)]($dataMap[_0x45eed4(0x1e4)],$dataMap['height']);}[_0x1348e7(0x20f)](_0x3d3bc2,_0x2b8f98){const _0x23ec1e=_0x1348e7;return MK['requireNonNull'](_0x3d3bc2,_0x23ec1e(0x238),'f'),new CustomMapParamBuilder(_0x3d3bc2,_0x2b8f98||{});}[_0x1348e7(0x1e1)](_0x283253,_0xe48a00){const _0x12ae48=_0x1348e7;_0xe48a00[_0x12ae48(0x1dd)]=_0xe48a00['spawnLocationArguments']||[],this[_0x12ae48(0x1e6)]();if(typeof _0x283253==_0x12ae48(0x1c1)&&!mapGenerationAlgorithms[_0x283253])throw Error(_0x12ae48(0x23e)+_0x283253+_0x12ae48(0x1ef));_0x283253=typeof _0x283253==_0x12ae48(0x1c1)?mapGenerationAlgorithms[_0x283253]:_0x283253,this[_0x12ae48(0x25d)]=_0x283253[_0x12ae48(0x1d0)](this,this[_0x12ae48(0x25d)],_0xe48a00);if(!this[_0x12ae48(0x25d)]||!this['dataMap'][_0x12ae48(0x1e4)]||!this['dataMap']['height']||!this[_0x12ae48(0x25d)][_0x12ae48(0x237)])throw Error('Custom\x20Map\x20Algorithm\x20must\x20return\x20a\x20dataMap!');if(!this[_0x12ae48(0x213)])throw Error(_0x12ae48(0x26f));return this;}['spawnPlayerAt'](){const _0x2296dc=_0x1348e7;throw Error(_0x2296dc(0x26b));}[_0x1348e7(0x1e3)](){const _0x1d25c4=_0x1348e7,_0x2da3f6=MK[_0x1d25c4(0x1fb)]();for(let _0x10fd4a=0x0;_0x10fd4a<_0x2da3f6[_0x1d25c4(0x248)];_0x10fd4a++){if(MK[_0x1d25c4(0x218)](0x0,_0x10fd4a,_0x2da3f6))return _0x10fd4a;}return 0x1;}[_0x1348e7(0x241)](){const _0x438789=_0x1348e7,_0x340767=MK[_0x438789(0x1fb)]();for(let _0x20fb2c=0x0;_0x20fb2c<_0x340767[_0x438789(0x248)];_0x20fb2c++){if(MK['isCellEmpty'](0x0,_0x20fb2c,_0x340767))return _0x20fb2c;}return _0x340767[_0x438789(0x248)];}['drawShadings']({mapName:mapName='shadings',scale:scale=0x5,minValue:minValue=0.55,noiseFunction:noiseFunction=MK[_0x1348e7(0x230)],conditionalFunction:conditionalFunction=_0x5e29f9=>_0x5e29f9>=minValue}={}){const _0x481282=_0x1348e7;if(!this[_0x481282(0x25d)])throw Error(_0x481282(0x272));const _0x1704cd=this[_0x481282(0x25d)]['width'],_0x106b86=this[_0x481282(0x25d)][_0x481282(0x248)],_0x4b32a8=MK['generateNoiseMap']({'w':_0x1704cd,'h':_0x106b86,'scale':scale,'f':noiseFunction});for(let _0xbcf6ee=0x0;_0xbcf6ee<_0x1704cd;_0xbcf6ee++){for(let _0x59e8e5=0x0;_0x59e8e5<_0x106b86;_0x59e8e5++){if(conditionalFunction[_0x481282(0x1d0)](this,_0x4b32a8[_0xbcf6ee][_0x59e8e5]))this[_0x481282(0x1da)](_0xbcf6ee,_0x59e8e5,mapName);}}return this;}[_0x1348e7(0x1ce)]({mapName:mapName='biomes',scale:scale=0x1e,minValue:minValue=0.55,noiseFunction:noiseFunction=MK[_0x1348e7(0x230)],conditionalFunction:conditionalFunction=_0x441361=>_0x441361>=minValue}={}){const _0x32f1ab=_0x1348e7;if(!this[_0x32f1ab(0x25d)])throw Error(_0x32f1ab(0x247));const _0x35295d=MK[_0x32f1ab(0x21e)]({'w':this[_0x32f1ab(0x25d)]['width'],'h':this[_0x32f1ab(0x25d)]['height'],'scale':scale,'f':noiseFunction}),_0x1baaf8=MK[_0x32f1ab(0x1d3)](this[_0x32f1ab(0x25d)][_0x32f1ab(0x1e4)],this[_0x32f1ab(0x25d)]['height'],(_0x4a14b0,_0x5a835b)=>conditionalFunction[_0x32f1ab(0x1d0)](this,_0x35295d[_0x4a14b0][_0x5a835b]));for(let _0x794f83 of _0x1baaf8){const _0x3a346f=MK[_0x32f1ab(0x21a)](mapName),_0x52d439=MK[_0x32f1ab(0x1e9)][_0x32f1ab(0x223)](MK[_0x32f1ab(0x257)](mapName));for(let _0x145b60 of _0x794f83){const _0x229c9c=MK[_0x32f1ab(0x1e5)](_0x145b60['x'],_0x145b60['y'],this['dataMap']);if(_0x3a346f['some'](_0x34df0a=>MK[_0x32f1ab(0x1c9)](_0x34df0a,_0x229c9c)))MK[_0x32f1ab(0x266)](_0x145b60['x'],_0x145b60['y'],this['dataMap'],_0x52d439);}}return this;}[_0x1348e7(0x1da)](_0x5e50ef,_0x40d028,_0x571692){const _0x39c007=_0x1348e7,_0x242597=MK['getTileStack'](_0x5e50ef,_0x40d028,this[_0x39c007(0x25d)]);for(let _0x2b9ac0 of MK[_0x39c007(0x1d5)](_0x571692)){const _0x169fae=_0x2b9ac0[_0x39c007(0x20d)]['some'](_0x3735ba=>MK[_0x39c007(0x1c9)](_0x3735ba,_0x242597)),_0x557233=MK[_0x39c007(0x1be)](_0x2b9ac0[_0x39c007(0x216)])||!this['reservedMap'][_0x5e50ef][_0x40d028];if(_0x169fae&&_0x557233){MK[_0x39c007(0x266)](_0x5e50ef,_0x40d028,this[_0x39c007(0x25d)],_0x2b9ac0['replacement']);break;}}}[_0x1348e7(0x1c7)](_0x2b9b9c='structures'){const _0x1b686c=_0x1348e7;if(!this['dataMap'])throw Error(_0x1b686c(0x1bc));const _0x28ff3c=MK[_0x1b686c(0x220)](_0x2b9b9c);for(let _0x9014b4 in _0x28ff3c){const _0x2aaab5=_0x28ff3c[_0x9014b4];for(let _0x2ec9b5=0x0;_0x2ec9b5<this[_0x1b686c(0x25d)][_0x1b686c(0x1e4)]-_0x2aaab5['w']+0x1;_0x2ec9b5++){for(let _0x3ee837=0x0;_0x3ee837<this[_0x1b686c(0x25d)][_0x1b686c(0x248)]-_0x2aaab5['h']+0x1;_0x3ee837++){if(MK['anyMatcherSuccessful'](_0x2ec9b5,_0x3ee837,this['dataMap'],_0x2aaab5['matchers'],_0x2b9b9c)){const _0x51880b=MK[_0x1b686c(0x1e9)][_0x1b686c(0x244)](0x1,_0x2aaab5['n'])-0x1;this[_0x1b686c(0x24b)](_0x2ec9b5,_0x3ee837,_0x2b9b9c,_0x2aaab5,_0x51880b);}}}}return this;}[_0x1348e7(0x1f7)](_0x2d4155='details'){const _0x41e8d7=_0x1348e7;if(!this['dataMap'])throw Error('You\x20need\x20to\x20call\x20\x27generate\x27\x20before\x20calling\x20\x27drawDetails\x27');const _0x1b4e84=MK[_0x41e8d7(0x265)](_0x2d4155),_0x20fac9=MK[_0x41e8d7(0x220)](_0x2d4155);for(let _0x3c2d72 in _0x20fac9){const _0x209fa3=_0x20fac9[_0x3c2d72];for(let _0x11fe06=0x0;_0x11fe06<this[_0x41e8d7(0x25d)][_0x41e8d7(0x1e4)]-_0x209fa3['w']+0x1;_0x11fe06++){for(let _0x2ffc31=0x0;_0x2ffc31<this[_0x41e8d7(0x25d)][_0x41e8d7(0x248)]-_0x209fa3['h']+0x1;_0x2ffc31++){const _0x403c9b=MK['anyMatcherSuccessful'](_0x11fe06,_0x2ffc31,this[_0x41e8d7(0x25d)],_0x209fa3[_0x41e8d7(0x20d)],_0x2d4155),_0x4c0a28=this[_0x41e8d7(0x23d)](_0x209fa3,_0x1b4e84)||MK[_0x41e8d7(0x200)](_0x11fe06,_0x2ffc31,_0x209fa3['w'],_0x209fa3['h'],this['reservedMap']);if(_0x403c9b&&_0x4c0a28){const _0xd595ec=MK[_0x41e8d7(0x1e9)][_0x41e8d7(0x244)](0x0,_0x209fa3['n']-0x1);this[_0x41e8d7(0x24b)](_0x11fe06,_0x2ffc31,_0x2d4155,_0x209fa3,_0xd595ec);}}}}return this;}[_0x1348e7(0x211)](_0x2abdce,_0x2fc970,_0x43c1ab){const _0x172ac5=_0x1348e7;return this[_0x172ac5(0x25b)](_0x2abdce,_0x2fc970,_0x43c1ab);}['drawDecorationXTimes'](_0x4a3ae0,_0x3e31e0,_0x41bb82){const _0x1ee3c8=_0x1348e7;return this[_0x1ee3c8(0x274)]({'regionId':_0x4a3ae0,'min':_0x3e31e0,'max':_0x41bb82});}['drawChest'](_0x6c5b22,_0x46e3d3,_0x4de9e){const _0x7e6cf3=_0x1348e7;return this['drawAccessibleAssetXTimes']({'regionId':_0x6c5b22,'min':_0x46e3d3,'max':_0x4de9e,'approvedMap':this[_0x7e6cf3(0x261)]});}[_0x1348e7(0x245)](_0x1162ea,_0x554315,_0x124cc5){const _0x25c735=_0x1348e7;return this[_0x25c735(0x1c2)](_0x1162ea,_0x554315,_0x124cc5);}[_0x1348e7(0x210)](_0x5d95e7,_0x390ff3,_0x183d41){const _0x5ef217=_0x1348e7;return this[_0x5ef217(0x219)]({'regionId':_0x5d95e7,'min':_0x390ff3,'max':_0x183d41});}[_0x1348e7(0x229)](_0x5c925f,_0x54bffe,_0x277bc2){const _0x3da44a=_0x1348e7;return this[_0x3da44a(0x219)]({'regionId':_0x5c925f,'min':_0x54bffe,'max':_0x277bc2});}['drawPOI'](_0x52fa4b,_0x307a72,_0x57cfaa){const _0x537e6f=_0x1348e7;return this[_0x537e6f(0x219)]({'regionId':_0x52fa4b,'min':_0x307a72,'max':_0x57cfaa});}['drawSwitch'](_0x153f5d,_0x13a76a,_0x17c221){const _0x2acbaa=_0x1348e7;return this[_0x2acbaa(0x219)]({'regionId':_0x153f5d,'min':_0x13a76a,'max':_0x17c221});}[_0x1348e7(0x219)]({regionId:_0x5339db,min:_0x46809c,max:_0x487ef9,approvedMap:_0x2fe9f9}){const _0x4f8b55=_0x1348e7;if(!this['dataMap'])throw Error(_0x4f8b55(0x1e0));_0x46809c=_0x46809c||_0x46809c==0x0?_0x46809c:0x1,_0x487ef9=_0x487ef9||_0x487ef9==0x0?_0x487ef9:_0x46809c;const _0x192e8a=MK[_0x4f8b55(0x1e9)][_0x4f8b55(0x244)](_0x46809c,_0x487ef9),_0x120e67=MK[_0x4f8b55(0x220)](_0x4f8b55(0x252))[_0x5339db];if(!_0x120e67)throw Error(_0x4f8b55(0x1ec)+_0x5339db+_0x4f8b55(0x263));for(let _0x23cf06=0x0;_0x23cf06<_0x192e8a;_0x23cf06++){const _0x381fa0=this['getPossibleAccessibleLocations'](_0x5339db,_0x2fe9f9);if(_0x381fa0[_0x4f8b55(0x1cd)]==0x0)break;const _0x54de76=MK['rng'][_0x4f8b55(0x223)](_0x381fa0),_0x2b9e1a=MK['rng'][_0x4f8b55(0x244)](0x0,_0x120e67['n']-0x1);this['drawAssetToXY'](_0x54de76['x'],_0x54de76['y'],_0x4f8b55(0x252),_0x120e67,_0x2b9e1a);if(_0x2fe9f9)for(let _0x4266d6=_0x54de76['x']-0x1;_0x4266d6<=_0x54de76['x']+0x1;_0x4266d6++){for(let _0x11e260=_0x54de76['y']-0x1;_0x11e260<=_0x54de76['y']+0x1;_0x11e260++){if(MK[_0x4f8b55(0x232)](_0x4266d6,_0x11e260,_0x2fe9f9))_0x2fe9f9[_0x4266d6][_0x11e260]=![];}}}return this;}['drawDecorativeAssetXTimes']({regionId:_0x1b2801,min:_0x1f3389,max:_0x3c9be7}){const _0x5126f2=_0x1348e7;if(!this[_0x5126f2(0x25d)])throw Error('You\x20need\x20to\x20call\x20\x27generate\x27\x20before\x20calling\x20\x27drawAsset\x27');_0x1f3389=_0x1f3389||_0x1f3389==0x0?_0x1f3389:0x1,_0x3c9be7=_0x3c9be7||_0x3c9be7==0x0?_0x3c9be7:_0x1f3389;const _0x5dbfa0=MK[_0x5126f2(0x1e9)]['randomInteger'](_0x1f3389,_0x3c9be7),_0x529c82=MK[_0x5126f2(0x220)](_0x5126f2(0x252))[_0x1b2801];if(!_0x529c82)throw Error(_0x5126f2(0x1ec)+_0x1b2801+'\x20but\x20it\x20doesnt\x20exist\x20in\x20the\x20Decoration\x20Map');for(let _0x3866af=0x0;_0x3866af<_0x5dbfa0;_0x3866af++){const _0x2f2438=this[_0x5126f2(0x270)](_0x1b2801);if(_0x2f2438[_0x5126f2(0x1cd)]==0x0)break;const _0x23889b=MK['rng'][_0x5126f2(0x223)](_0x2f2438),_0x2cad59=MK['rng'][_0x5126f2(0x244)](0x0,_0x529c82['n']-0x1);this[_0x5126f2(0x24b)](_0x23889b['x'],_0x23889b['y'],_0x5126f2(0x252),_0x529c82,_0x2cad59);}return this;}[_0x1348e7(0x270)](_0xb62211){const _0x485b0c=_0x1348e7,_0x50d030=MK[_0x485b0c(0x220)]('decoration')[_0xb62211],_0x546561=_0x50d030[_0x485b0c(0x20d)],_0x4c4207=[],_0x501fdf=this['dataMap'][_0x485b0c(0x1e4)],_0x15fc6f=this[_0x485b0c(0x25d)][_0x485b0c(0x248)];for(let _0x545037=0x0;_0x545037<_0x501fdf;_0x545037++){for(let _0x271dd1=0x0;_0x271dd1<_0x15fc6f;_0x271dd1++){const _0xac1fdc=MK[_0x485b0c(0x1d1)](_0x545037,_0x271dd1,this[_0x485b0c(0x25d)],_0x546561,_0x485b0c(0x252)),_0x30108c=MK['areaNotTouchingOnMap'](_0x545037,_0x271dd1,_0x50d030['w'],_0x50d030['h'],this[_0x485b0c(0x256)]);if(_0xac1fdc&&_0x30108c)_0x4c4207[_0x485b0c(0x215)]({'x':_0x545037,'y':_0x271dd1});}}return _0x4c4207;}['getPossibleAccessibleLocations'](_0x8936ce,_0x33e1c6){const _0x4db43c=_0x1348e7,_0x2f0dab=MK[_0x4db43c(0x265)](_0x4db43c(0x252)),_0x459b2d=MK['getMatchersAndReplacementsFromStructuresMap'](_0x4db43c(0x252))[_0x8936ce],_0x26f2f6=_0x459b2d['matchers'],_0x197752=[];for(let _0x9a982f=0x0;_0x9a982f<this[_0x4db43c(0x25d)][_0x4db43c(0x1e4)];_0x9a982f++){for(let _0x2df308=0x0;_0x2df308<this[_0x4db43c(0x25d)][_0x4db43c(0x248)];_0x2df308++){const _0x5541f3=MK[_0x4db43c(0x1d1)](_0x9a982f,_0x2df308,this[_0x4db43c(0x25d)],_0x26f2f6,_0x4db43c(0x252)),_0x300a38=MK['areaCompletelyOnMap'](_0x9a982f,_0x2df308,_0x459b2d['w'],_0x459b2d['h'],this[_0x4db43c(0x256)]),_0x3f930a=this[_0x4db43c(0x23d)](_0x459b2d,_0x2f0dab)||!this[_0x4db43c(0x20b)](_0x9a982f,_0x2df308,_0x459b2d['w'],_0x459b2d['h']),_0x30b8a=!_0x33e1c6||MK[_0x4db43c(0x1ea)](_0x9a982f,_0x2df308,_0x459b2d['w'],_0x459b2d['h'],_0x33e1c6);if(_0x5541f3&&_0x300a38&&_0x3f930a&&_0x30b8a)_0x197752['push']({'x':_0x9a982f,'y':_0x2df308});}}return _0x197752;}[_0x1348e7(0x23d)](_0x581a3f,_0x4f1ca2){const _0x4a2911=_0x1348e7;return MK[_0x4a2911(0x22e)](_0x581a3f['n'])[_0x4a2911(0x1f3)](_0x402c21=>{const _0x2a15d7=_0x4a2911,_0x3e4974=_0x402c21*_0x581a3f['w']+_0x581a3f['x'],_0x27a159=_0x581a3f['y'],_0x1e524b=_0x581a3f['w'],_0x1609ef=_0x581a3f['h'],_0x54c8f0=MK['isAreaPassable'](_0x3e4974,_0x27a159,_0x1e524b,_0x1609ef,_0x4f1ca2),_0x346201=MK[_0x2a15d7(0x243)](_0x3e4974,_0x27a159,_0x1e524b,_0x1609ef,_0x4f1ca2);return _0x54c8f0||_0x346201;});}[_0x1348e7(0x20b)](_0xe717e,_0x26ea2f,_0x13de40,_0x4cfca0){const _0x3e6d7d=_0x1348e7;return this[_0x3e6d7d(0x1d6)](_0xe717e,_0x26ea2f,_0x13de40,_0x4cfca0,(_0x3e8dbf,_0x4b5fb4)=>this[_0x3e6d7d(0x256)][_0x3e8dbf][_0x4b5fb4]);}[_0x1348e7(0x1d6)](_0x52cacd,_0x50e1b5,_0xaeee91,_0x20bddb,_0x15bdbd){const _0x316ce6=_0x1348e7,_0x11ec86=[];for(let _0x48e5cc=_0x52cacd-0x1;_0x48e5cc<_0x52cacd+_0xaeee91;_0x48e5cc++){_0x11ec86[_0x316ce6(0x215)](this[_0x316ce6(0x232)](_0x48e5cc,_0x50e1b5-0x1)&&_0x15bdbd[_0x316ce6(0x1d0)](this,_0x48e5cc,_0x50e1b5-0x1));}for(let _0x672d9=_0x50e1b5-0x1;_0x672d9<_0x50e1b5+_0x20bddb;_0x672d9++){_0x11ec86[_0x316ce6(0x215)](this[_0x316ce6(0x232)](_0x52cacd+_0xaeee91,_0x672d9)&&_0x15bdbd[_0x316ce6(0x1d0)](this,_0x52cacd+_0xaeee91,_0x672d9));}for(let _0x58c054=_0x52cacd+_0xaeee91;_0x58c054>=_0x52cacd-0x1;_0x58c054--){_0x11ec86[_0x316ce6(0x215)](this[_0x316ce6(0x232)](_0x58c054,_0x50e1b5+_0x20bddb)&&_0x15bdbd['call'](this,_0x58c054,_0x50e1b5+_0x20bddb));}for(let _0x4e8206=_0x50e1b5+_0x20bddb;_0x4e8206>=_0x50e1b5-0x1;_0x4e8206--){_0x11ec86[_0x316ce6(0x215)](this['isValid'](_0x52cacd-0x1,_0x4e8206)&&_0x15bdbd[_0x316ce6(0x1d0)](this,_0x52cacd-0x1,_0x4e8206));}let _0x237977=0x0;for(let _0x45533f=0x1;_0x45533f<_0x11ec86[_0x316ce6(0x1cd)];_0x45533f++){if(_0x11ec86[_0x45533f]!=_0x11ec86[_0x45533f-0x1])_0x237977++;}if(_0x11ec86[_0x11ec86[_0x316ce6(0x1cd)]-0x1]!=_0x11ec86[0x0])_0x237977++;return _0x237977>0x2;}}class CustomMapParamBuilder{constructor(_0x5ac30d,_0x52c24c){const _0x2dc5ac=_0x1348e7;this['f']=_0x5ac30d,this[_0x2dc5ac(0x24f)]=_0x52c24c,this[_0x2dc5ac(0x24f)]['exits']=_0x52c24c[_0x2dc5ac(0x1cf)]||{};}[_0x1348e7(0x207)](_0x44bf2d){const _0x59eb3f=_0x1348e7;return MK['requireNonNull'](_0x44bf2d,_0x59eb3f(0x207),_0x59eb3f(0x271)),this['args'][_0x59eb3f(0x25f)][_0x44bf2d]=!![],this;}[_0x1348e7(0x269)](){return this['args']['spawnLocationArguments']=arguments,this;}[_0x1348e7(0x1e1)](){const _0x2212b1=_0x1348e7;return $mapGenerator[_0x2212b1(0x1e1)](this['f'],this['args']);}}function _0x6ff2(_0x47d909,_0x123fa3){const _0x5c2f32=_0x5c2f();return _0x6ff2=function(_0x6ff279,_0x45e1b9){_0x6ff279=_0x6ff279-0x1bc;let _0x3bbd47=_0x5c2f32[_0x6ff279];return _0x3bbd47;},_0x6ff2(_0x47d909,_0x123fa3);}var $mapGenerator=new MapGenerator();PluginManager&&PluginManager[_0x1348e7(0x235)]&&(PluginManager['registerCommand']('MK_RNGMaps_withoutSnippets','cave',_0x469c90=>{const _0x4641e3=_0x1348e7,_0x3a154f={'drawAreas':_0x4641e3(0x1f6)==_0x469c90[_0x4641e3(0x1f1)],'border':_0x4641e3(0x1f6)==_0x469c90['border'],'scale':Number(_0x469c90[_0x4641e3(0x267)]),'minValue':Number(_0x469c90[_0x4641e3(0x1ca)]),'n_nodes':[Number(_0x469c90[_0x4641e3(0x1d2)]),Number(_0x469c90[_0x4641e3(0x1df)])],'n_randomEdges':[Number(_0x469c90[_0x4641e3(0x227)]),Number(_0x469c90[_0x4641e3(0x1e2)])],'thickness':[Number(_0x469c90['minThickness']),Number(_0x469c90[_0x4641e3(0x23a)])],'toadThickness':[Number(_0x469c90[_0x4641e3(0x246)]),Number(_0x469c90[_0x4641e3(0x1bf)])],'roadMode':_0x469c90[_0x4641e3(0x236)][_0x4641e3(0x1c5)](),'centerExits':_0x4641e3(0x1f6)==_0x469c90[_0x4641e3(0x1c3)]};MK[_0x4641e3(0x1eb)]=$mapGenerator['custom'](_0x4641e3(0x26e),_0x3a154f);}),PluginManager['registerCommand'](_0x1348e7(0x1db),_0x1348e7(0x204),_0x26293f=>{const _0x290b4e=_0x1348e7,_0xc77367={'scale':Number(_0x26293f[_0x290b4e(0x267)]),'groundLevel':Number(_0x26293f['groundLevel'])>-0x1?Number(_0x26293f['groundLevel']):undefined,'n_islands':[Number(_0x26293f[_0x290b4e(0x214)],Number(_0x26293f[_0x290b4e(0x1f2)]))],'minSizeToHaveABiome':Number(_0x26293f[_0x290b4e(0x25e)]),'drawRivers':_0x290b4e(0x1f6)==_0x26293f[_0x290b4e(0x222)],'townsVariable':Number(_0x26293f['townsVariable'])};MK[_0x290b4e(0x1eb)]=$mapGenerator[_0x290b4e(0x20f)](_0x290b4e(0x204),_0xc77367);}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),'roomsAndCorridors',_0x2ed9d3=>{const _0x53d2f6=_0x1348e7,_0x352fa9={'n_roomsToBuild':[Number(_0x2ed9d3['min_roomsToBuild']),Number(_0x2ed9d3[_0x53d2f6(0x1cc)])],'roomWidth':[Number(_0x2ed9d3['min_roomWidth']),Number(_0x2ed9d3[_0x53d2f6(0x1e8)])],'roomHeight':[Number(_0x2ed9d3[_0x53d2f6(0x25c)]),Number(_0x2ed9d3[_0x53d2f6(0x226)])],'allowOverlapping':_0x53d2f6(0x1f6)==_0x2ed9d3['allowOverlapping'],'n_randomEdges':[Number(_0x2ed9d3[_0x53d2f6(0x227)]),Number(_0x2ed9d3[_0x53d2f6(0x1e2)])],'thickness':[Number(_0x2ed9d3[_0x53d2f6(0x1ed)]),Number(_0x2ed9d3[_0x53d2f6(0x23a)])]};MK[_0x53d2f6(0x1eb)]=$mapGenerator[_0x53d2f6(0x20f)](_0x53d2f6(0x209),_0x352fa9);}),PluginManager[_0x1348e7(0x235)]('MK_RNGMaps_withoutSnippets',_0x1348e7(0x20e),_0x58d697=>{const _0x4dfe34=_0x1348e7;MK['$builder']=$mapGenerator['custom'](_0x4dfe34(0x20e));}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),_0x1348e7(0x1ee),_0x463c55=>{const _0x5e8c14=_0x1348e7;if(!MK[_0x5e8c14(0x1eb)])throw Error(_0x5e8c14(0x24a));if('true'==_0x463c55[_0x5e8c14(0x22c)])MK[_0x5e8c14(0x1eb)][_0x5e8c14(0x207)]('top');if('true'==_0x463c55[_0x5e8c14(0x253)])MK[_0x5e8c14(0x1eb)][_0x5e8c14(0x207)](_0x5e8c14(0x228));if(_0x5e8c14(0x1f6)==_0x463c55['hasExitRight'])MK['$builder']['withExit'](_0x5e8c14(0x1fa));if(_0x5e8c14(0x1f6)==_0x463c55[_0x5e8c14(0x22f)])MK[_0x5e8c14(0x1eb)][_0x5e8c14(0x207)](_0x5e8c14(0x24e));}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),'spawnPlayerAt',_0xb1e190=>{const _0x12c954=_0x1348e7;if(!MK[_0x12c954(0x1eb)])throw Error(_0x12c954(0x26a));MK['$builder']['spawnPlayerAt'](_0xb1e190['direction']);}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),'generate',_0x714a22=>{const _0x34e909=_0x1348e7;if(!MK[_0x34e909(0x1eb)])throw Error(_0x34e909(0x21f));MK[_0x34e909(0x1eb)][_0x34e909(0x1e1)](),MK['$builder']=undefined;}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),_0x1348e7(0x1c7),_0xd66e5=>{const _0x29eab3=_0x1348e7;$mapGenerator[_0x29eab3(0x1c7)](_0xd66e5[_0x29eab3(0x273)]);}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),_0x1348e7(0x1f7),_0x578605=>{const _0x240ffe=_0x1348e7;$mapGenerator['drawDetails'](_0x578605[_0x240ffe(0x273)]);}),PluginManager[_0x1348e7(0x235)]('MK_RNGMaps_withoutSnippets','drawShadings',_0x35c8d0=>{const _0x9daf9=_0x1348e7;$mapGenerator[_0x9daf9(0x1d8)]({'mapName':_0x35c8d0['mapName'],'scale':Number(_0x35c8d0[_0x9daf9(0x267)]),'minValue':Number(_0x35c8d0[_0x9daf9(0x1ca)])});}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),_0x1348e7(0x1ce),_0xe1b897=>{const _0x483baf=_0x1348e7;$mapGenerator[_0x483baf(0x1ce)]({'mapName':_0xe1b897['mapName'],'scale':Number(_0xe1b897[_0x483baf(0x267)]),'minValue':Number(_0xe1b897[_0x483baf(0x1ca)])});}),PluginManager[_0x1348e7(0x235)](_0x1348e7(0x1db),_0x1348e7(0x1c0),_0x52f338=>{const _0x2bea1b=_0x1348e7,_0x38f081=Number(_0x52f338[_0x2bea1b(0x205)]),_0x13b497=Number(_0x52f338['min']),_0x573235=Number(_0x52f338['max']);switch(_0x52f338[_0x2bea1b(0x1fe)]){case _0x2bea1b(0x1c8):$mapGenerator['drawChest'](_0x38f081,_0x13b497,_0x573235);break;case'Enemy':$mapGenerator[_0x2bea1b(0x210)](_0x38f081,_0x13b497,_0x573235);break;case _0x2bea1b(0x233):$mapGenerator[_0x2bea1b(0x229)](_0x38f081,_0x13b497,_0x573235);break;case'POI':$mapGenerator[_0x2bea1b(0x1f8)](_0x38f081,_0x13b497,_0x573235);break;case _0x2bea1b(0x1dc):$mapGenerator[_0x2bea1b(0x24c)](_0x38f081,_0x13b497,_0x573235);break;case _0x2bea1b(0x224):$mapGenerator[_0x2bea1b(0x211)](_0x38f081,_0x13b497,_0x573235);break;}}),PluginManager[_0x1348e7(0x235)]('MK_RNGMaps_withoutSnippets','finalize',_0x5dd877=>{const _0x91bc64=_0x1348e7;$mapGenerator[_0x91bc64(0x259)]();}));MK[_0x1348e7(0x23b)]=function(_0x192bfb,_0x367bba,_0x4f3207,_0x49295d){const _0x2448a1=_0x1348e7,_0x4a1214=$dataMap[_0x2448a1(0x1e4)],_0x164d2b=$dataMap['height'],_0x5cc4ae=Math[_0x2448a1(0x208)]($dataMap[_0x2448a1(0x1e4)]/0x2),_0x214574=Math[_0x2448a1(0x208)]($dataMap[_0x2448a1(0x248)]/0x2);return _0x192bfb=_0x192bfb||{'x':_0x5cc4ae,'y':0x0},_0x367bba=_0x367bba||{'x':0x0,'y':_0x214574},_0x4f3207=_0x4f3207||{'x':_0x4a1214-0x1,'y':_0x214574},_0x49295d=_0x49295d||{'x':_0x5cc4ae,'y':_0x164d2b-0x1},MK['getCenter']([_0x192bfb,_0x367bba,_0x4f3207,_0x49295d]);},MK['getRoads']=function(_0x44eb05,_0x2cc10c,_0x5b871c,_0x2cca57,_0x5f3bd8){const _0x5399ee=_0x1348e7,_0x5e9118=!!_0x44eb05,_0x13a0c6=!!_0x2cc10c,_0x8adf22=!!_0x5b871c,_0x4d348d=!!_0x2cca57,_0x342884=[];_0x5e9118&&_0x4d348d&&_0x13a0c6==_0x8adf22&&_0x342884[_0x5399ee(0x215)]({'a':_0x44eb05,'b':_0x2cca57});_0x5e9118==_0x4d348d&&_0x13a0c6&&_0x8adf22&&_0x342884[_0x5399ee(0x215)]({'a':_0x2cc10c,'b':_0x5b871c});_0x5e9118&&!_0x4d348d&&_0x13a0c6&&!_0x8adf22&&_0x342884[_0x5399ee(0x215)]({'a':_0x44eb05,'b':_0x2cc10c});_0x5e9118&&!_0x4d348d&&!_0x13a0c6&&_0x8adf22&&_0x342884[_0x5399ee(0x215)]({'a':_0x44eb05,'b':_0x5b871c});!_0x5e9118&&_0x4d348d&&_0x13a0c6&&!_0x8adf22&&_0x342884[_0x5399ee(0x215)]({'a':_0x2cca57,'b':_0x2cc10c});!_0x5e9118&&_0x4d348d&&!_0x13a0c6&&_0x8adf22&&_0x342884[_0x5399ee(0x215)]({'a':_0x2cca57,'b':_0x5b871c});const _0x2669c0=[_0x5e9118,_0x13a0c6,_0x8adf22,_0x4d348d]['filter'](Boolean)['length'];if(_0x2669c0==0x1||_0x2669c0==0x3){if(_0x5e9118)_0x342884[_0x5399ee(0x215)]({'a':_0x44eb05,'b':_0x5f3bd8});if(_0x13a0c6)_0x342884[_0x5399ee(0x215)]({'a':_0x2cc10c,'b':_0x5f3bd8});if(_0x8adf22)_0x342884[_0x5399ee(0x215)]({'a':_0x5b871c,'b':_0x5f3bd8});if(_0x4d348d)_0x342884[_0x5399ee(0x215)]({'a':_0x2cca57,'b':_0x5f3bd8});}return _0x342884;};function _0x5c2f(){const _0x223205=['drawDecoration','requireNonNull','spawnLocation','min_islands','push','replacement','concat','isPassable','drawAccessibleAssetXTimes','getMatchersFromBiomeMap','isMapIncluded','search','414962KcCxkL','generateNoiseMap','You\x20need\x20to\x20generate\x20a\x20Map\x20first,\x20before\x20you\x20call\x20\x22generate\x22','getMatchersAndReplacementsFromStructuresMap','map','drawRivers','pickRandom','decorative','sort','max_roomHeight','min_randomEdges','left','drawNPC','scan','min','hasExitTop','start','arrange','hasExitBottom','noiseFunction','dest','isValid','NPC','thickness','registerCommand','roadMode','data','customMapAlgorithm','createMatrix','maxThickness','getCenterOfRoads','reduce','isAssetPassable','Map\x20Generation\x20Algorithm\x20with\x20name\x20<','perlin2','shadings','getNumberOfLevels','simpleSpanningTree','isAreaEmpty','randomInteger','drawLootChest','minRoadThickness','You\x20need\x20to\x20call\x20\x27generate\x27\x20before\x20calling\x20\x27drawBiomes\x27','height','isAnyEventInThisArea','You\x20need\x20to\x20generate\x20a\x20Map\x20first,\x20before\x20you\x20call\x20\x22with\x20Exits\x22','drawAssetToXY','drawSwitch','calculatePath','bottom','args','path','2563344ZkeKbS','decoration','hasExitLeft','7wLkJEl','putMatchingShadingsTileStack','reservedMap','getReplacementsFromBiomeMap','weight','finalize','abs','drawDecorationXTimes','min_roomHeight','dataMap','minSizeToHaveABiome','exits','getTileStackFromBaseMap','hiddenMap','weightFunction','\x20but\x20it\x20doesnt\x20exist\x20in\x20the\x20Decoration\x20Map','some','getAdditionalMap','safelyPasteTileStack','scale','MK.generateNoiseMap','spawnPlayerAt','You\x20need\x20to\x20generate\x20a\x20Map\x20first,\x20before\x20you\x20call\x20\x22spawn\x20Player\x20at\x22','Invalid\x20API\x20Call.\x20\x22spawnPlayerAt\x22\x20must\x20be\x20called\x20before\x20generate.','495SOQhRV','isTileStackEmpty','cave','Spawn\x20Location\x20not\x20set\x20in\x20Custom\x20Map\x20Algorithm.','getPossibleDecorativeLocations','direction','You\x20need\x20to\x20call\x20\x27generate\x27\x20before\x20calling\x20\x27drawShadings\x27','mapName','drawDecorativeAssetXTimes','You\x20need\x20to\x20call\x20\x27generate\x27\x20before\x20calling\x20\x27drawStructures\x27','forEach','isPassableTileStack','maxRoadThickness','drawAsset','string','drawChest','centerExits','applySmoothBorder','toLowerCase','end','drawStructures','Chest','equalTileStacks','minValue','filter','max_roomsToBuild','length','drawBiomes','exit','call','anyMatcherSuccessful','min_nodes','getAllIslands','312230CAXVqa','getMatchersAndReplacementsFromShadingMap','wouldBlock','splice','drawShadings','areaMatches','putShadingOrPathTile','MK_RNGMaps_withoutSnippets','Switch','spawnLocationArguments','500846pXcGxO','max_nodes','You\x20need\x20to\x20call\x20\x27generate\x27\x20before\x20calling\x20\x27drawAsset\x27','generate','max_randomEdges','getGroundLevel','width','getTileStack','reset','biomes','max_roomWidth','rng','areaPartiallyOnMap','$builder','You\x20wanted\x20to\x20place\x20an\x20Asset\x20with\x20region\x20Id\x20','minThickness','withExits','>\x20does\x20not\x20exist','62716oJXnSx','drawAreas','max_islands','every','1498695TspRgc','81yyTvuA','true','drawDetails','drawPOI','makePathBigger','right','getMapFromDisk','noiseMap','3051808ZUlvgV','type','grid','areaNotTouchingOnMap','MK.calculatePath','isCellEmpty','average','worldMap','regionId','smooth','withExit','floor','roomsAndCorridors','requireToBeOneOfThese','wouldBlockOnReserved','contains','matchers','staticMap','custom','drawEnemy'];_0x5c2f=function(){return _0x223205;};return _0x5c2f();}